<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>THE LIFELINES PROGRAMMING SUBSYSTEM AND REPORT GENERATOR</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div class="book"><div class="titlepage"><div><div><h1 class="title"><a id="docbook"></a>

THE <span class="application">LIFELINES</span> PROGRAMMING SUBSYSTEM AND REPORT GENERATOR

</h1></div><div><h2 class="subtitle"><span class="application">LifeLines</span> Version 3.1.1</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Thomas T. </span> <span class="surname">Wetmore </span>, <span class="lineage">IV</span></h3></div><div class="author"><h3 class="author"></h3><div class="affiliation"><span class="orgname">Converted to Docbook SGML by<br /></span></div></div><div class="author"><h3 class="author"><span class="firstname">Rafal</span> <span class="surname">Prinke </span></h3></div><div class="author"><h3 class="author"></h3><div class="affiliation"><span class="orgname">Updated by<br /></span></div></div><div class="author"><h3 class="author"><span class="firstname">Stephen</span> <span class="surname">Dum </span></h3></div><div class="author"><h3 class="author"><span class="firstname">Matt</span> <span class="surname">Emmerton </span></h3></div><div class="author"><h3 class="author"><span class="firstname">Marc</span> <span class="surname">Nozell </span></h3></div><div class="author"><h3 class="author"><span class="firstname">Perry</span> <span class="surname">Rapp </span></h3></div><div class="author"><h3 class="author"></h3><div class="affiliation"><span class="orgname">and many other contributors from the lifelines
        mailing lists<br /></span></div></div></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="chapter"><a href="#idm140054931744048">1. 
Report Programming Manual
</a></span></dt><dd><dl><dt><span class="sect1"><a href="#idm140054930373488">
Introduction
</a></span></dt><dt><span class="sect1"><a href="#idm140054933640496">
Tutorial Ahnentafel report
</a></span></dt><dt><span class="sect1"><a href="#idm140054929010416">
Template for creating new reports
</a></span></dt><dt><span class="sect1"><a href="#idm140054929008096">
Invoking Reports
</a></span></dt></dl></dd><dt><span class="chapter"><a href="#idm140054929002624">2. 

<span class="application">LIFELINES</span> PROGRAMMING REFERENCE

</a></span></dt><dd><dl><dt><span class="sect1"><a href="#idm140054928997728">

Procedures and Functions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928975824">

Comments

</a></span></dt><dt><span class="sect1"><a href="#idm140054928969296">

Statements

</a></span></dt><dt><span class="sect1"><a href="#idm140054928920752">

Expressions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928914080">

Include Feature

</a></span></dt><dt><span class="sect1"><a href="#idm140054928905168">

Built-in Functions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928901344">
Value Types
</a></span></dt><dt><span class="sect1"><a href="#idm140054928872112">
Iterators
</a></span></dt><dt><span class="sect1"><a href="#idm140054928857568">
Arithmetic and Logic Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928762560">
Trigonometric and Spherical Calculations
</a></span></dt><dt><span class="sect1"><a href="#idm140054928725360">
Person Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928536928">
Family Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928458448">
Other types of records
</a></span></dt><dt><span class="sect1"><a href="#idm140054928443648">
List Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928355056">
Table Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928332256">
GEDCOM Node Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928280144">
Event and Date Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928100240">
Date Arithmetic
</a></span></dt><dt><span class="sect1"><a href="#idm140054928089552">
Value Extraction Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928047984">
User Interaction Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927998736">
String Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927882224">
Output Mode Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927813360">
Person Set Functions and GEDCOM Extraction
</a></span></dt><dt><span class="sect1"><a href="#idm140054927705008">
Record Update Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927679168">
Record Linking Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927669680">
Miscellaneous Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927606176">
Deprecated Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927548880">
Debugging Reports
</a></span></dt></dl></dd></dl></div><div class="list-of-examples"><p><strong>List of Examples</strong></p><dl><dt>1.1. <a href="#idm140054934391056">
Example of ahnentafel report
</a></dt><dt>1.2. <a href="#idm140054934387520">
Example of ahnentafel report script   
</a></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm140054931744048"></a>Chapter 1. 
Report Programming Manual
</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="#idm140054930373488">
Introduction
</a></span></dt><dt><span class="sect1"><a href="#idm140054933640496">
Tutorial Ahnentafel report
</a></span></dt><dt><span class="sect1"><a href="#idm140054929010416">
Template for creating new reports
</a></span></dt><dt><span class="sect1"><a href="#idm140054929008096">
Invoking Reports
</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054930373488"></a>
Introduction
</h2></div></div></div><p>

     The <span class="application">LifeLines</span> programming subsystem
     lets you produce reports in any style or layout. You may
     generate files in <span class="application">troff</span>,
     <span class="application">Postscript</span>,
     <span class="application">TeX</span>, <acronym class="acronym">SGML</acronym> or any
     other <acronym class="acronym">ASCII</acronym>-based format, for further text
     processing and printing. You access the report generator by
     choosing the r command from the main menu. You may also use
     the programming subsystem to create query and other processing
     programs that write their results directly upon the
     screen. For example, there is a
     <span class="application">LifeLines</span> program that computes the
     relationship between any two persons in a database.

</p><p>

     Each <span class="application">LifeLines</span> program is written
     in the <span class="application">LifeLines</span> programming
     language, and the programs are stored in normal files. When
     you direct <span class="application">LifeLines</span> to run a
     program, it asks you for the name of the program file, asks
     you where you want the program's output written, and then runs
     the program.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054933640496"></a>
Tutorial Ahnentafel report
</h2></div></div></div><p>

     For example, say you want <span class="application">LifeLines</span>
     to generate an ahnentafel (ancestor) report for Tom Wetmore.
	 Such a report would show Tom Wetmore, his parents, grandparents,
	 great-grandparents, and so on. It would like like the following:

</p><div class="example"><a id="idm140054934391056"></a><p class="title"><strong>Example 1.1. 
Example of ahnentafel report
</strong></p><div class="example-contents"><div class="literallayout"><p><br />
1. Thomas Trask WETMORE IV<br />
b. 18 December 1949, New London, Connecticut<br />
2. Thomas Trask WETMORE III<br />
b. 15 October 1925, New London, Connecticut<br />
3. Joan Marie HANCOCK<br />
b. 6 June 1928, New London, Connecticut<br />
4. Thomas Trask WETMORE Jr<br />
b. 5 May 1896, New London, Connecticut<br />
d. 8 November 1970, New London, Connecticut<br />
5. Vivian Genevieve BROWN<br />
b. 5 April 1896, Mondovi, Wisconsin<br />
6. Richard James HANCOCK<br />
b. 18 August 1904, New London, Connecticut<br />
d. 24 December 1976, Waterford, Connecticut<br />
7. Muriel Armstrong SMITH<br />
b. 28 October 1905, New Haven, Connecticut<br />
8. Thomas Trask WETMORE Sr<br />
b. 13 March 1866, St. Mary's Bay, Nova Scotia<br />
d. 17 February 1947, New London, Connecticut<br />
9. Margaret Ellen KANEEN<br />
b. 27 October 1859, Liverpool, England<br />
d. 10 May 1900, New London, Connecticut<br />
... lots more</p></div></div></div><p><br class="example-break" />

</p><p>

     Here is a <span class="application">LifeLines</span> program that
     generates this report:

</p><div class="example"><a id="idm140054934387520"></a><p class="title"><strong>Example 1.2. 
Example of ahnentafel report script   
</strong></p><div class="example-contents"><pre class="programlisting">

/*
 * @progname        ahnentafel_tutorial.ll
 * @version         1.0
 * @author          Wetmore
 * @category        sample
 * @output          text
 * @description
 *
 * Generate an ahnentafel chart for the selected person (tutorial sample).
 */

proc main ()
  {
    getindi(indi)
    list(ilist)
    list(alist)
    enqueue(ilist, indi)  /* list of people needing to be displayed */
    enqueue(alist, 1)     /* ancestor numbers for people on ilist */
	
	/*
	Our basic loop is we take the next person who needs to be displayed,
	display them, and then record their parents as needing to be displayed.
	*/
    while (indi, dequeue(ilist)) {
	  /* display person we just pulled off list */
      set(ahnen, dequeue(alist))
      d(ahnen) ". " name(indi) nl()
      if (e, birth(indi)) { " b. " long(e) nl() }
      if (e, death(indi)) { " d. " long(e) nl() }
	  /* add person's parents to list to display */
      if (par, father(indi)) {
        enqueue(ilist, par)
        enqueue(alist, mul(2,ahnen))
      }
      if (par,mother(indi)) {
        enqueue(ilist, par)
        enqueue(alist, add(1,mul(2,ahnen)))
      }
    }
  }

</pre></div></div><p><br class="example-break" />

</p><p>

     Say this program is in the file
     <code class="filename">ahnentafel_tutorial</code>. When you choose the
     <span class="keycap"><strong>r</strong></span> option from the main menu,
     <span class="application">LifeLines</span> asks:

</p><pre class="screen">
What is the name of the report program?
enter string:
</pre><p>

</p><p>

     You enter
     <strong class="userinput"><code><code class="literal">ahnentafel_tutorial</code></code></strong>. Since the
     program generates a report,
     <span class="application">LifeLines</span> asks where to write that
     report:

</p><pre class="screen">
What is the name of the output file?
enter file name:
</pre><p>

</p><p>

     You enter a file name, say
     <strong class="userinput"><code><code class="filename">my.ahnen</code></code></strong>.
     <span class="application">LifeLines</span> reads the program ahnen,
     executes the program, and writes the report output to
     <code class="filename">my.ahnen</code>. <span class="application">LifeLines</span>
     reports any syntax or run-time errors found while trying to
     run the program.


</p><p>

     A <span class="application">LifeLines</span> program is made up of
     <span class="type">procedures</span> and <span class="type">functions</span>; every
     program must contain at least one <span class="type">procedure</span> named
     <code class="literal">main</code>. The <code class="literal">main</code>
     <span class="type">procedure</span> runs first; it may call other
     <span class="type">procedures</span>, <span class="type">functions</span> and
     <span class="type">built-in functions</span>. In the ahnentafel example
     there is only one <span class="type">procedure</span>.

</p><p>
     In the example program, there are some comments at the top,
     to tell the reader a bit about the program. The comments run
     from <code class="literal">/*</code> to <code class="literal">*/</code>, and are
     not necessary (but are suggested).

</p><p>

     A <span class="type">procedure</span> body is a sequence of
     <span class="type">statements</span>. In the example program, the first five
     <span class="type">statements</span> are:

</p><pre class="programlisting">
getindi(indi)
list(ilist)
list(alist)
enqueue(ilist, indi)
enqueue(alist, 1)
</pre><p>
</p><p>

     The first <span class="type">statement</span> calls the
     <code class="function">getindi</code> (get individual) <span class="type">built-in
     function</span>, which causes
     <span class="application">LifeLines</span> to ask you to identify a
     person using the zip browse style of identification:

</p><pre class="screen">
Identify person for interpreted report
enter name:
</pre><p>


</p><p>

     After you identify a person, he or she is assigned to the
     variable <code class="varname">indi</code>. The next two
     <span class="type">statements</span> declare two <span class="type">list
     variables</span>, <code class="varname">ilist</code> and
     <code class="varname">alist</code>. <span class="type">Lists</span> hold sequences of
     things; there are operations for placing things on lists,
     taking things off, and iterating through the list elements. In
     the example, <code class="varname">ilist</code> holds a list of
     ancestors, in ahnentafel order, who have not yet been reported
     on, and <code class="varname">alist</code> holds their respective
     ahnentafel numbers.


</p><p>

     The next two statements call the <code class="function">enqueue</code>
     function, adding the first members to both lists. The person
     identified by the <code class="function">getindi</code> function is
     made the first member of <code class="varname">ilist</code>, and the
     number one, this person's ahnentafel number, is made the first
     member of <code class="varname">alist</code>.

</p><p>

The rest of the program is:

</p><pre class="programlisting">
while (indi, dequeue(ilist)) {
  set(ahnen, dequeue(alist))
  d(ahnen) ". " name(indi) nl()
  if (e, birth(indi)) { " b. " long(e) nl() }
  if (e, death(indi)) { " d. " long(e) nl() }
  if (par, father(indi)) {
    enqueue(ilist, par)
    enqueue(alist, mul(2,ahnen))
  }
  if (par, mother(indi)) {
    enqueue(ilist, par)
   enqueue(alist, add(1,mul(2,ahnen)))
  }
}
</pre><p>

</p><p>

     This is a loop that iteratively removes persons and their
     ahnentafel numbers from the two lists, and then prints their
     names and birth and death information. If the persons have
     parents in the database, their parents and their parents'
     ahnentafel numbers are then put at the ends of the lists. The
     loop iterates until the list is empty.

</p><p>

     The loop is a <span class="type">while</span> loop statement. The line:
</p><pre class="programlisting">
while (indi, dequeue(ilist)) {
</pre><p>
removes (via <code class="function">dequeue</code>) a person from <code class="varname">ilist</code>, and assigns the person to variable <code class="varname">indi</code>. As long as there
are persons on <code class="varname">ilist</code>, another iteration of the loop follows.

</p><p>

The statement:</p><pre class="programlisting">

set(ahnen, dequeue(alist))</pre><p>is an <span class="type">assignment</span> statement. The second argument is evaluated; its value is assigned to the first
argument, which must be a variable. Here the next number in <code class="varname">alist</code> is removed and assigned to variable
<code class="varname">ahnen</code>. This is the ahnentafel number of the person just removed from <code class="varname">ilist</code>.

</p><p>

The line:</p><pre class="programlisting">

d(ahnen) ". " name(indi) nl()</pre><p>contains four <span class="type">expression</span> statements; when expressions are used as statements, their values, if any, are
treated as strings and written directly to the report output file. The <code class="function">d</code> function converts its integer
argument to a numeric string. The ". " is a literal (constant) string value. The <code class="function">name</code> function returns the
default form of a person's name. The <code class="function">nl</code> function returns a string containing the newline character.

</p><p>

The next two lines:

</p><pre class="programlisting">
if (e, birth(indi)) { " b. " long(e) nl() }
if (e, death(indi)) { " d. " long(e) nl() }
</pre><p>

write out basic birth and death information about a person. These
lines are <span class="type">if</span> statements. The second argument in the
conditional is evaluated and assigned to the first argument, which
must be a variable.  The first <span class="type">if</span> statement calls the
birth function, returning the first birth event in a person's
record. If the event exists it is assigned to variable
<code class="varname">e</code>, and the <span class="type">body</span> (the items between the
curly brackets) of the <span class="type">if</span> statement is executed. The
<span class="type">body</span> consists of three <span class="type">expression</span>
statements: a literal, and calls to the <code class="function">long</code> and
<code class="function">nl</code> functions. <code class="function">Long</code> takes an
<em class="parameter"><code>event</code></em> and returns the values of
the first <em class="structfield"><code>DATE</code></em> and
<em class="structfield"><code>PLAC</code></em> lines in the <span class="type">event</span>.

</p><p>

Finally in the program is:</p><pre class="programlisting">

if (par, father(indi)) {
enqueue(ilist,par)
enqueue(alist,mul(2,ahnen))
}
if (par,mother(indi)) {
enqueue(ilist,par)
enqueue(alist,add(1,mul(2,ahnen)))
}</pre><p>

</p><p>

These lines add the father and mother of the current person, if either or both are in the database, to
<code class="varname">ilist</code>. They also compute and add the parents' ahnentafel numbers to <code class="varname">alist</code>. A father's ahnentafel
number is twice that of his child. A mother's ahnentafel number is twice that of her child plus one.
These values are computed with the <code class="function">mul</code> and <code class="function">add</code> functions.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054929010416"></a>
Template for creating new reports
</h2></div></div></div><p>
The following is a good template to use when creating a new report from scratch.
</p><pre class="programlisting">
/*
 * @progname reportname
 * @version Version Number.
 * @author report author and possible email address
 * @category ????
 * @output Format of Report Output
 * @description The following paragraph is used to populate index.html.
 *
 * This report .... (Note, the text in the 1st paragraph following the @keyword
 * lines is used as a description in the automatically generated index.html 
 * file. The text following the @description is not used for this purpose.)
 * The description lines can be written with or without the *'s on the left
 * they will be removed when generating index.html.
 * 
 * Additional descriptive text
*/

proc main()
{

}
</pre></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054929008096"></a>
Invoking Reports
</h2></div></div></div><p>
As mentioned earlier, reports may be invoked interactively from the main
menu via the <span class="keycap"><strong>r</strong></span> option from the main menu. 
</p><p>
Alternatively, llines may be called with the -x option to have it
immediately run a report. For example, to have lifelines run the
example ahnentafel report above, on a database named wetmore, 
this command
<span class="command"><strong>llines -x ahnentafel_tutorial wetmore</strong></span>
would be used.
</p><p>
For more efficient operation from scripts, the lifelines
distribution includes a smaller program
<span class="command"><strong>llexec</strong></span>
which includes all functionality of lifelines except the
curses GUI. <span class="command"><strong>llexec</strong></span> is made specifically,
therefore, for invocations such as
<span class="command"><strong>llexec -x ahnentafel_tutorial wetmore</strong></span>
</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="idm140054929002624"></a>Chapter 2. 

<span class="application">LIFELINES</span> PROGRAMMING REFERENCE

</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="#idm140054928997728">

Procedures and Functions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928975824">

Comments

</a></span></dt><dt><span class="sect1"><a href="#idm140054928969296">

Statements

</a></span></dt><dt><span class="sect1"><a href="#idm140054928920752">

Expressions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928914080">

Include Feature

</a></span></dt><dt><span class="sect1"><a href="#idm140054928905168">

Built-in Functions

</a></span></dt><dt><span class="sect1"><a href="#idm140054928901344">
Value Types
</a></span></dt><dt><span class="sect1"><a href="#idm140054928872112">
Iterators
</a></span></dt><dt><span class="sect1"><a href="#idm140054928857568">
Arithmetic and Logic Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928762560">
Trigonometric and Spherical Calculations
</a></span></dt><dt><span class="sect1"><a href="#idm140054928725360">
Person Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928536928">
Family Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928458448">
Other types of records
</a></span></dt><dt><span class="sect1"><a href="#idm140054928443648">
List Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928355056">
Table Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928332256">
GEDCOM Node Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928280144">
Event and Date Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928100240">
Date Arithmetic
</a></span></dt><dt><span class="sect1"><a href="#idm140054928089552">
Value Extraction Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054928047984">
User Interaction Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927998736">
String Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927882224">
Output Mode Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927813360">
Person Set Functions and GEDCOM Extraction
</a></span></dt><dt><span class="sect1"><a href="#idm140054927705008">
Record Update Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927679168">
Record Linking Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927669680">
Miscellaneous Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927606176">
Deprecated Functions
</a></span></dt><dt><span class="sect1"><a href="#idm140054927548880">
Debugging Reports
</a></span></dt></dl></div><p>

<span class="application">LifeLines</span> programs are stored in files you edit with a screen editor. Programs are not edited from within
the <span class="application">LifeLines</span> program; edit them as you would any text file. The programs may be stored in any
directories; they do not have to be kept in or associated with <span class="application">LifeLines</span> databases. You may set the
<code class="envar">LLPROGRAMS</code> shell variable to hold a list of directories that <span class="application">LifeLines</span> will use to automatically
search for programs when you request program execution.

</p><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928997728"></a>

Procedures and Functions

</h2></div></div></div><p>

A <span class="application">LifeLines</span> program is made up of one or more <span class="type">procedures</span> and <span class="type">functions</span>. A <span class="type">procedure</span> has format:</p><pre class="synopsis">proc name(params) { statements }</pre><p>

</p><p>

<span class="symbol">Name</span> is the name of the <span class="type">procedure</span>, <span class="symbol">params</span> is an optional list of <span class="type">parameters</span> separated by commas,
and <span class="symbol">statements</span> is a list of statements that make up the <span class="type">procedure</span> body. Report generation begins with
the first <span class="type">statement</span> in the <span class="type">procedure</span> named <code class="literal">main</code>. <span class="type">Procedures</span> may call other <span class="type">procedures</span> and <span class="type">functions</span>.
<span class="type">Procedures</span> are called with the <span class="type">call</span> statement described below.When a <span class="type">procedure</span> is called, the
<span class="type">statements</span> making up its <span class="type">body</span> are executed.

</p><p>

A function has format:</p><pre class="synopsis">func name(params) { statements }</pre><p>

</p><p>

<span class="symbol">Name</span>, <span class="symbol">params</span> and <span class="symbol">statements</span> are defined as in <span class="type">procedures</span>. <span class="type">Functions</span> may call other <span class="type">procedures</span> and
<span class="type">functions</span>. When a <span class="type">function</span> is called the <span class="type">statements</span> that make it up are executed. A <span class="type">function</span> differs from
a <span class="type">procedure</span> by returning a <span class="type">value</span> to the <span class="type">procedure</span> or <span class="type">function</span> that calls it. Values are returned by the
<span class="type">return</span> statement, described below. <span class="type">Recursive functions</span> are allowed. A <span class="type">function</span> is called by invoking it
in an <span class="type">expression</span>.

</p><p>
<span class="type">Function</span> and <span class="type">procedure</span> parameters are passed
by value except for <span class="type">list</span>, <span class="type">set</span> and <span class="type">table</span>
types which are passed by reference.
Redeclaration of a parameter instantiates a new variable of the
stated or implied type.  The previous instance continues to exist 
in the scope of the caller.
</p><p>
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928975824"></a>

Comments

</h2></div></div></div><p>

You may comment your <span class="application">LifeLines</span> programs using the following notation:</p><pre class="programlisting">

/*...comment text including any characters except */... */</pre><p>

</p><p>
These comments may be inserted anywhere in the program file.
</p><p>
You should put in some report header comments, because they will provide useful text for your report
when it is included in the report list seen by the user who uses the lifelines pick report menu
function. Report header comments are some specific comments at the top of the report, with keywords
preceded by @ signs. The following is an illustration of report header comments, with explanations
inside them:
</p><pre class="programlisting">
/*
* @progname The name of the report without the
extension. This shows in the pick report option.
* @version Version Number of the report. This
is stored here and not in the report name.
* @author Name of the author of this report
and email address if he/she desires.
* @category ????
* @output Modifies Database | text | HTML |
GEDCOM | RTF | XML | PostScript | etc.
* @description The first paragraph after this is
used to generate the description in the index.html.

This report ....
*/
</pre><p>

Comments begin with a <code class="literal">/*</code> and end with a <code class="literal">*/</code>. Comments may appear on lines of their own or on lines
that have program constructs. Comments may span many lines. Comments may not be nested.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928969296"></a>

Statements

</h2></div></div></div><p>

     There are a number of <span class="type">statement</span> types. The
     simplest is an <span class="type">expression</span> statement, an
     expression that is not part of any other
     <span class="type">statement</span> or
     <span class="type">expression</span>. <span class="type">Expressions</span> are defined
     more fully below. An <span class="type">expression</span> statement is
     evaluated, and if its value is
     <span class="returnvalue">non-null</span> (non-zero), it is assumed
     to be a <span class="type">string</span>, and written to the program output
     file. If its value is <span class="returnvalue">null</span>, nothing
     is written to the output file. For example, the expression
     </p><pre class="synopsis">name(indi)</pre><p>, where <span class="symbol">indi</span>
     is a person, returns the person's name and writes it to the
     output file. On the other hand, the expression
     </p><pre class="synopsis">set(n, nspouses(indi))</pre><p> assigns the
     variable <code class="varname">n</code> the number of spouses that
     person <code class="varname">indi</code> has, but since
     <code class="function">set</code> returns
     <span class="returnvalue">null</span>, nothing is written to the
     output file.

</p><p>

     The programming language includes <span class="type">if</span> statements,
     <span class="type">while</span> statements and <span class="type">procedure call</span>
     statements, with the following formats:

     </p><pre class="synopsis">if ([varb,] expr) { statements }
               [ elsif ([varb], expr) { statements } ]*
                    [ else { statements } ]
     </pre><p>

     </p><pre class="synopsis">while ([varb,] expr ) { statements }</pre><p>

     </p><pre class="synopsis">call name(args)</pre><p>

</p><p>

Square brackets indicate optional parts of the statement syntax. An <span class="type">if</span> statement is executed by first
evaluating the conditional expression in the <span class="type">if</span> clause. If <span class="returnvalue">non-zero</span>, the statements in the <span class="type">if</span> clause are
evaluated, and the rest of the <span class="type">if</span> statement, if any, is ignored. If the value is <span class="returnvalue">zero</span>, and there is an <span class="type">elsif</span>
clause following, the conditional in the <span class="type">elsif</span> clause is evaluated, and if <span class="returnvalue">non-zero</span>, the statements in
that clause are executed. <span class="type">Conditionals</span> are evaluated until one of them is <span class="returnvalue">non-zero</span>, or until there are no
more. If no conditional is <span class="returnvalue">non-zero</span>, and if the <span class="type">if</span> statement ends with an <span class="type">else</span> clause, the statements in
the <span class="type">else</span> clause are executed. There are two forms of <span class="type">conditional</span> expressions. If the <span class="type">conditional</span> is a
single <span class="type">expression</span>, it is simply evaluated. If the <span class="type">conditional</span> is a <span class="type">variable</span> followed by an <span class="type">expression</span>, the
<span class="type">expression</span> is evaluated and its value is assigned to the variable.

</p><p>

Note that <span class="type">if</span> treats null strings as false, but empty strings as true. This has the benefit that

</p><pre class="programlisting">
if (birth(indi))
</pre><p>

will return <span class="returnvalue">true</span> if there is a BIRT record, even if it is empty, but will return false if there is no BIRT record
at all.

</p><p>

The <span class="type">while</span> statement provides a looping mechanism. The <span class="type">conditional</span> is evaluated, and if <span class="returnvalue">non-zero</span>, the
<span class="type">body</span> of the loop is executed. After each iteration the <span class="type">expression</span> is reevaluated; as long as it remains
<span class="returnvalue">non-zero</span>, the loop is repeated.


</p><p>

The <span class="type">call</span> statement provides procedure calls. <span class="symbol">Name</span> must match one of the <span class="type">procedures</span> defined in the
report program. <span class="symbol">Args</span> is a list of <span class="type">argument</span> expressions separated by commas. <span class="type">Recursion</span> is allowed.
When a <span class="type">call</span> is executed, the values of its <span class="type">arguments</span> are evaluated and used to initialize the
procedure's <span class="type">parameters</span>. The <span class="type">procedure</span> is then executed. When the <span class="type">procedure</span> completes, execution
resumes with the first item after the call.

</p><p>

The following report language statements are commonly encountered only near the top of a report:
</p><pre class="synopsis">char_encoding(string)</pre><p>
</p><pre class="synopsis">require(string)</pre><p>
</p><pre class="synopsis">option(string)</pre><p>
</p><pre class="synopsis">include(string)</pre><p>
</p><pre class="synopsis">global(varb)</pre><p>

</p><p>

The <span class="type">char_encoding</span> statement specifies what character encoding scheme is used by the report, so that the
report processor can correctly interpret bytes not in ASCII (e.g., accented letters). An example specifying a character
encoding common in Western Europe:


</p><pre class="programlisting">
char_encoding("ISO-8859-1")
</pre><p>

The <span class="type">option</span> statement allows the report writer to specify options. The only option currently available is
"explicitvars", which causes any use of variables not previously declared or set to be reported as a parsing error. The
<span class="type">require</span> statement allows the report writer to specify that this report needs a version of the report
interpreter no older than that specified.
The <span class="type">include</span> statement includes the contents of another file into the current file; its <em class="parameter"><code>string</code></em> expression is
the name of another <span class="application">LifeLines</span> program file. It is described in more detail below. The <span class="type">global</span> statement
must be used outside the scope of any <span class="type">procedure</span> or <span class="type">function</span>; it declares a <em class="parameter"><code>variable</code></em> to have global scope.  The 
<em class="parameter"><code>variable</code></em> is initialized to 0.

</p><p>

The report language also includes the following statements, which mimic some common programming languages:

</p><pre class="synopsis">set(varb, expr)</pre><p>
</p><pre class="synopsis">continue()</pre><p>
</p><pre class="synopsis">break()</pre><p>
</p><pre class="synopsis">return([expr])</pre><p>

</p><p>

The <span class="type">set</span> statement is the assignment statement; the <em class="parameter"><code>expression</code></em> is evaluated, and its value is assigned
to the <em class="parameter"><code>variable</code></em>. The <span class="type">continue</span> statement jumps to the bottom of the current loop, but does not leave the
loop. The <span class="type">break</span> statement breaks out of the most closely nested loop. The <span class="type">return</span> statement returns from
the current <span class="type">procedure</span> or <span class="type">function</span>. <span class="type">Procedures</span> have return statements without expressions; <span class="type">functions</span>
have return statements with expressions. None of these statements return a value, so none has a direct
effect on program output.


</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928920752"></a>

Expressions

</h2></div></div></div><p>

There are four types of expressions: <span class="type">literals</span>, <span class="type">numbers</span>, <span class="type">variables</span> and built-in or user defined function
<span class="type">calls</span>.


</p><p>

A <span class="type">literal</span> is any string enclosed in double quotes; its value is 
itself. A <span class="type">number</span> is any integer or floating point constant;
its value is itself. A <span class="type">variable</span> is a named location that can be assigned different values during program
execution. The value of a <span class="type">variable</span> is the last value assigned to it. <span class="type">Variables</span> do not have fixed type; at
different times in a program, the same <span class="type">variable</span> may be assigned data of completely different types. An
identifier followed by comma-separated list of expressions enclosed in parentheses, is either a <span class="type">call</span> to a
built-in function or a <span class="type">call</span> to a user-defined function.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928914080"></a>

Include Feature

</h2></div></div></div><p>

The <span class="application">LifeLines</span> programming language provides an <span class="type">include</span> feature. Using this feature one <span class="application">LifeLines</span>
program can refer to other <span class="application">LifeLines</span> programs. This feature is provided by the include statement:</p><pre class="synopsis">include(string)</pre><p>where <span class="symbol">string</span> is a quoted string that is the name of another <span class="application">LifeLines</span> program file. When an include
statement is encountered, the program that it refers to is read at that point, exactly as if the contents of
included file had been in the body of the original file at that point. This allows you to create <span class="application">LifeLines</span>
program library files that can be used by many programs. Included files may in turn contain <span class="type">include</span>
statements, and so on to any depth. <span class="application">LifeLines</span> will use the <code class="envar">LLPROGRAMS</code> shell variable, if set, to
search for the <span class="type">include</span> files.  Each file included with a include
statement is only read once.  If multiple include statements are encountered
that include the same file, only the first statement has any effect.
</p><p>
The only main procedure actually executed is the one in the
report the user chose.  main procedures in other reports
which are included do not get run.  This allows a module intended
to be included in other programs to have a main procedure for test purposes.
If multiple functions or procedures with the same name are included 
(other than the name main) a runtime error is generated and the program
is not run.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928905168"></a>

Built-in Functions

</h2></div></div></div><p>

There is a long list of <span class="type">built-in functions</span>, and this list will continue to grow for some time. The first
subsection below describes the value types used in <span class="application">LifeLines</span> programs; these are the types of <span class="type">variables</span>,
<span class="type">function parameters</span> and <span class="type">function return values</span>. In the remaining sections the <span class="type">built-in functions</span> are
separated into logical categories and described.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928901344"></a>
Value Types
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><span class="type">ANY</span></span></dt><dd class="glossdef"><p>
union of all types
</p></dd><dt><span class="glossterm"><span class="type">BOOL</span></span></dt><dd class="glossdef"><p>
boolean (0 represents false; anything else represents true)
</p></dd><dt><span class="glossterm"><span class="type">EVENT</span></span></dt><dd class="glossdef"><p>
event; reference to substructure of nodes in a <acronym class="acronym">GEDCOM</acronym> record (reference)
</p></dd><dt><span class="glossterm"><span class="type">FAM</span></span></dt><dd class="glossdef"><p>
family; reference to a <acronym class="acronym">GEDCOM</acronym> FAM record (reference)
</p></dd><dt><span class="glossterm"><span class="type">FLOAT</span></span></dt><dd class="glossdef"><p>
floating point number (may be used anywhere an INT may be used)
</p></dd><dt><span class="glossterm"><span class="type">INDI</span></span></dt><dd class="glossdef"><p>
person; reference to a <acronym class="acronym">GEDCOM</acronym> INDI record (reference)
</p></dd><dt><span class="glossterm"><span class="type">INT</span></span></dt><dd class="glossdef"><p>
integer (on most systems a 32-bit signed value)
</p></dd><dt><span class="glossterm"><span class="type">LIST</span></span></dt><dd class="glossdef"><p>
arbitrary length list of any values (reference)
</p></dd><dt><span class="glossterm"><span class="type">NODE</span></span></dt><dd class="glossdef"><p>
<acronym class="acronym">GEDCOM</acronym> node; reference to a line in a <acronym class="acronym">GEDCOM</acronym> tree/record (reference)
</p></dd><dt><span class="glossterm"><span class="type">NUMBER</span></span></dt><dd class="glossdef"><p>
union of all arithmetic types (INT and FLOAT)
</p></dd><dt><span class="glossterm"><span class="type">SET</span></span></dt><dd class="glossdef"><p>
a collection of persons each with a value (see person sets below).
</p></dd><dt><span class="glossterm"><span class="type">STRING</span></span></dt><dd class="glossdef"><p>
text string
</p></dd><dt><span class="glossterm"><span class="type">TABLE</span></span></dt><dd class="glossdef"><p>
keyed look-up table (reference)
</p></dd><dt><span class="glossterm"><span class="type">VOID</span></span></dt><dd class="glossdef"><p>
type with no values
</p></dd></dl></div><p>

In the summaries of <span class="type">built-in functions</span> below, each function is shown with its <span class="type">argument</span> types
and its <span class="type">return</span> type.  The types are from the preceding list. Sometimes an <span class="type">argument</span> to a
<span class="type">built-in function</span> must be a <span class="type">variable</span>; when this is so its type is given as
<code class="varname">XXX_V</code>, where <span class="symbol">XXX</span> is one of the types above. The <span class="type">built-ins</span> do not check
the types of their <span class="type">arguments</span>. <span class="type">Variables</span> can hold values of any type, though at any one time
they will hold values of only one type. Note that <span class="type">EVENT</span> is a subtype of <span class="type">NODE</span>, and
<span class="type">BOOL</span> is a subtype of <span class="type">INT</span>. Built-ins with type <span class="type">VOID</span> actually return
<span class="returnvalue">null</span> (zero) values.

</p><p>

Reference types (denoted above in parentheses) obey "pointer semantics", which is to say that assigning one to another
variable results in both variables pointing at the same data (no copy is made). Therefore, if you pass a string to a
function which changes the string, the caller does not see the change, because a string is not a reference type. On the
other hand, if you pass a table to a function which alters the table, the caller does see the change, because a table is
a reference type.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928872112"></a>
Iterators
</h2></div></div></div><p>

The report generator provides a number of iterator statements
for looping through genealogical and other types of data.
For example, the <span class="type">children</span> statement
iterates through the children of a family,
the <span class="type">spouses</span> statement iterates through the spouses of a
person, and the <span class="type">families</span> statement iterates through the families that a person is a spouse or parent in.
</p><p>
Usually the first argument to the iterator is an expression that evaluates to an
individual or a family.
The other arguments of the iterator are variable names that are set with values for each iteration.
The last argument is often a variable name used as a counter.
It starts with the value of one and is
increased by one for each iteration of the loop.  
After completion of the iteration, these variables have the value null.
</p><p>
     </p><pre class="synopsis">children(afam,indi,cnt) { commands }</pre><p>
For example, the first argument to
<span class="type">children</span> is the family that the iterator will operate on.
This iterator will execute the block of commands for each child in the
specified family.  The second argument is set to each child in the family
in the order they are listed in the family and the third argument is the
loop counter which starts at one and is incremented by one each time the
block of commands is executed.  The two variables indi and cnt will
have the value null after the iteration has completed.
</p><p>
For the purpose of traversing all records in the database, the following
iterators may be used:

</p><div class="informaltable"><table border="0"><colgroup><col width="1in" /><col /></colgroup><tbody><tr><td>forindi</td><td>Iterate over all people</td></tr><tr><td>forfam</td><td>Iterate over all families</td></tr><tr><td>forsour</td><td>Iterate over all sources</td></tr><tr><td>foreven</td><td>Iterate over all events</td></tr><tr><td>forothr</td><td>Iterate over all other record types</td></tr></tbody></table></div><p>

</p><p>
All the iterators are described in more detail later in the section where
their definition occurs.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928857568"></a>
Arithmetic and Logic Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">add</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,
<var class="pdparam">NUMBER</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
addition - two to 32 arguments
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">sub</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,
<var class="pdparam">NUMBER</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

subtraction

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">mul</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,
<var class="pdparam">NUMBER</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

multiplication - two to 32 arguments

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">div</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,
<var class="pdparam">NUMBER</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

division

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">mod</strong>(</code></td><td><var class="pdparam">INT</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

modulus (remainder)

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">exp</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

exponentiation

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NUMBER <strong class="fsfunc">neg</strong>(</code></td><td><var class="pdparam">NUMBER</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

negation

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">float</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

convert int to float

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">int</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

convert float to int

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">incr</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,<var class="pdparam">NUMBER</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

increment variable by second argument (or by 1 if no second argument)

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">decr</strong>(</code></td><td><var class="pdparam">NUMBER</var><var class="pdparam">NUMBER</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NUMBER</var>,<var class="pdparam">NUMBER</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

decrement variable by second argument (or by 1 if no second argument)

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">and</strong>(</code></td><td><var class="pdparam">BOOL</var><var class="pdparam">BOOL</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">BOOL</var>,
<var class="pdparam">BOOL</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

logical and - two to 32 arguments

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">or</strong>(</code></td><td><var class="pdparam">BOOL</var><var class="pdparam">BOOL</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">BOOL</var>,
<var class="pdparam">BOOL</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

logical or - two to 32 arguments

</p></dd><dt><span class="glossterm"> <div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">not</strong>(</code></td><td><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

logical not

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">eq</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

equality (not strings)

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">ne</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

non-equality

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">lt</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

less than

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">gt</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var>
</code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

greater than

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">le</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

less than or equal

</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">ge</strong>(</code></td><td><var class="pdparam">ANY</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>

greater than or equal

</p></dd></dl></div><p>
<code class="function">Add</code>, <code class="function">sub</code>, <code class="function">mul</code> 
and <code class="function">div</code> do normal arithmetic of integer or floating values.
If any operand is float, the result is float.
Functions <code class="function">add</code> and <code class="function">mul</code> can have two to
32 arguments; the sum or product of the full set of arguments is computed.
Functions <code class="function">sub</code> and <code class="function">div</code> have 
two arguments each; <code class="function">sub</code> subtracts its second argument
from its first, and <code class="function">div</code> divides its first argument by its
second.
The <code class="function">mod</code> function returns the remainder after dividing the
first parameter by the second. If the second argument to 
<code class="function">div</code> or <code class="function">mod</code> is zero,
these functions return 0 and generate a run time error.
<code class="function">Exp</code> performs integer exponentiation.
<code class="function">Neg</code> negates its argument.
The functions 
<code class="function">float</code> and
<code class="function">int</code>
can be used to explicitly convert a value to float or int where needed.
</p><p>
<code class="function">Incr</code> and <code class="function">decr</code> increment by one and decrement by one, respectively, the value of a variable. The
argument to both functions must be a variable.  These functions take an
optional second argument which is the amount to increment or decrement the
variable by. 
</p><p>
<code class="function">And</code> and <code class="function">or</code> do logical operations. Both functions take two to 32 arguments. All arguments are and'ed or
or'ed together, respectively. The arguments are evaluated from left to right, but only up to the point
where the final value of the function becomes known. <code class="function">Not</code> does the logical not operation.
</p><p>
<code class="function">Eq</code>, <code class="function">ne</code>, <code class="function">lt</code>, <code class="function">le</code>, <code class="function">gt</code> and <code class="function">ge</code> evaluate the six ordering relationships between two integers.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928762560"></a>
Trigonometric and Spherical Calculations
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">sin</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute sine of argument in degrees
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">cos</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute cosine of argument in degrees
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">tan</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute tangent of argument in degrees
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">arcsin</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute inverse sine of argument
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">arccos</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute inverse cosine of argument
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">arctan</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute inverse tangent of argument
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">dms2deg</strong>(</code></td><td><var class="pdparam">INT degree</var><var class="pdparam">INT minute</var><var class="pdparam">INT second</var><var class="pdparam">FLOAT_V decimal</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT degree</var>,
<var class="pdparam">INT minute</var>,
<var class="pdparam">INT second</var>,
<var class="pdparam">FLOAT_V decimal</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert (degree, minute, second) to decimal degrees
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">void <strong class="fsfunc">deg2dms</strong>(</code></td><td><var class="pdparam">FLOAT decimal</var><var class="pdparam">INT_V degree</var><var class="pdparam">INT_V minute</var><var class="pdparam">INT_V second</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT decimal</var>,
<var class="pdparam">INT_V degree</var>,
<var class="pdparam">INT_V minute</var>,
<var class="pdparam">INT_V second</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert decimal degrees to (degree, minute, second)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">spdist</strong>(</code></td><td><var class="pdparam">FLOAT lat0</var><var class="pdparam">FLOAT long0</var><var class="pdparam">FLOAT lat1</var><var class="pdparam">FLOAT long1</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT lat0</var>,
<var class="pdparam">FLOAT long0</var>,
<var class="pdparam">FLOAT lat1</var>,
<var class="pdparam">FLOAT long1</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compute distance between two locations
</p></dd></dl></div><p>
The trigonometric functions specify angles using degrees.  The functions
<code class="function">deg2dms</code> and <code class="function">dms2deg</code>
are provided to convert between (degree,minute,second) notation and decimal
degree representations for angles.
</p><p>
<code class="function">spdist</code> estimates the distance between two spherical
coordinates.  The arguments provided are, in order, first latitude, first
longitude, second latitude, second longitude.  The result is in kilometers.

</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928725360"></a>
Person Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">name</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var>,
<var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div>
</span></dt><dd class="glossdef"><p>
default name of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">fullname</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">BOOL</var><var class="pdparam">BOOL</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var>,
<var class="pdparam">BOOL</var>,
<var class="pdparam">BOOL</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
many name forms of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">surname</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
surname of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">givens</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
given names of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">trimname</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
trimmed name of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">birth</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first birth event of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">death</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first death event of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">burial</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first burial event of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">father</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first father of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">mother</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first mother of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">nextsib</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
next (younger) sibling of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">prevsib</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
previous (older) sibling of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">sex</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
sex of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">male</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
male predicate
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">female</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
female predicate
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">pn</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
pronoun referring to
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">nspouses</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number of spouses of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">nfamilies</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number of families (as spouse/parent) of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">parents</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first parents' family of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">title</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first title of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">key</strong>(</code></td><td><var class="pdparam">RECORD</var><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">RECORD</var>,
<var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
internal key of (works for any record type)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">soundex</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
SOUNDEX code of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">inode</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
root GEDCOM node of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">root</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
root GEDCOM node of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">indi</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
find person with key value
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">firstindi</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first person in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">lastindi</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
last person in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">nextindi</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
next person in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">previndi</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
previous person in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">spouses</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all spouses of a person
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">families</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">FAM_V</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">FAM_V</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all families
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">forindi</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all persons
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">mothers</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all female parents of a person
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">fathers</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all male parents of a person
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">parents</strong>(</code></td><td><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var><var class="pdparam">INDI_V</var><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
all families a person is a child of
</p></dd></dl></div><p>
These functions take a person as a parameter and return information about him or her.
</p><p>
<code class="function">Name</code> returns the default name of a person; this is the name found on the first <em class="structfield"><code>1 NAME</code></em> line in the
person's record; the slashes are removed and the surname is made all capitals; <code class="function">name</code> can take an
optional second parameter - if it is <span class="returnvalue">true</span> the function acts as described above; if <span class="returnvalue">false</span>, the surname is
kept exactly as it is in the record.
</p><p>
<code class="function">Fullname</code> returns the name of a person in a variety of formats. If the second parameter is <span class="returnvalue">true</span> the
surname is shown in upper case; otherwise the surname is as in the record. If the third parameter is
<span class="returnvalue">true</span> the parts of the name are shown in the order as found in the record; otherwise the surname is given
first, followed by a comma, followed by the other name parts. The fourth parameter specifies the
maximum length field that can be used to show the name; various conversions occur if it is necessary to
shorten the name to fit this length.
</p><p>
<code class="function">Surname</code> returns the surname of the person, as found in the first <em class="structfield"><code>1 NAME</code></em> line; the slashes are
removed. <code class="function">Givens</code> returns the given names of the person in the same order and format as found in the
first <em class="structfield"><code>1 NAME</code></em> line of the record. <code class="function">Trimname</code> returns the default name of the person trimmed to the
maximum character length given in the second variable.
</p><p>
<code class="function">Birth</code>, <code class="function">death</code>, and <code class="function">burial</code> return the first birth, death, and burial event in the
person's record, respectively. An event is a level <em class="structfield"><code>1 GEDCOM</code></em> node. If there is no matching event these
functions return <span class="returnvalue">null</span>.
</p><p>
<code class="function">Father</code>, <code class="function">mother</code>, <code class="function">nextsib</code> and <code class="function">prevsib</code> return the father, mother, next younger sibling and next older
sibling of the person, respectively. If the person has more than one father (mother) the <code class="function">father</code>
(<code class="function">mother</code>) function returns the first one. These functions return <span class="returnvalue">null</span> if there is no person in the role.
</p><p>
<code class="function">Sex</code> returns the person's sex as the string <span class="returnvalue">M</span> if the person is male, <span class="returnvalue">F</span> if the person is female, or <span class="returnvalue">U</span> if the
sex of the person is not known. <code class="function">Male</code> and <code class="function">female</code> return <span class="returnvalue">true</span> if the person is male or female,
respectively, or <span class="returnvalue">false</span> if not.
</p><p>
<code class="function">Pn</code> generates pronouns, useful when generating English text;
the second parameter selects the type of pronoun:
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>He/She</td></tr><tr><td>1</td><td>he/she</td></tr><tr><td>2</td><td>His/Her</td></tr><tr><td>3</td><td>his/her</td></tr><tr><td>4</td><td>him/her</td></tr></tbody></table></div><p>
<code class="function">Nspouses</code> returns the number of spouses the person has in the database, and <code class="function">nfamilies</code> returns the
number of families the person is a parent/spouse in; these two values are not necessarily the same.
<code class="function">Parents</code> returns the first family that the person is a child in.
</p><p>
<code class="function">Title</code> returns the value of the first <em class="structfield"><code>1 TITL</code></em> line in the record. 
</p><p>
<code class="function">Key</code> returns the key value of a person (or any record);
if there is a second parameter and it is non-null, the leading <code class="literal">I</code> (or <code class="literal">F</code> 
or <code class="literal">S</code> or <code class="literal">E</code> or <code class="literal">X</code>) will be stripped. For example, if
<code class="literal">key(curindi)</code> returns <code class="literal">I23</code>, then <code class="literal">key(curindi,1)</code>
returns <code class="literal">23</code>.
</p><p>
<code class="function">Soundex</code>
returns the Soundex code of the person.
</p><p>
<code class="function">Root</code> and <code class="function">Inode</code> return the root node of the person's <acronym class="acronym">GEDCOM</acronym> node tree. Note that an <span class="type">INDI</span> value is
not a <span class="type">NODE</span> value. If you want to process the nodes within a person node tree, you must first use the
<code class="function">root</code> or <code class="function">inode</code> function to get the root of the person node tree. <code class="function">Root</code> and <code class="function">inode</code> are synonyms.
</p><p>
<code class="function">Indi</code> returns the person whose key is passed as an argument;
if no person has the key <code class="function">indi</code> returns
<span class="returnvalue">null</span>.
INDI  keys are accepted either as Innn or @Innn@.
</p><p>
<code class="function">Firstindi</code>, <code class="function">nextindi</code> and <code class="function">previndi</code> allow you to iterate through all persons in the database. <code class="function">Firstindi</code>
returns the first person in the database in key order. <code class="function">Nextindi</code> returns the next person after the
argument person in key order. <code class="function">Previndi</code> returns the previous person before the argument person in key
order.
</p><p>
<code class="function">Spouses</code> is an iterator that loops through each spouse a person has. The first argument is a person. The
second argument is a person variable that iterates through the first person's spouses. The third
argument is a family variable that iterates through the families the person and each spouse are in.
The fourth argument is an integer variable that counts the iterations.
The spouses iterator skips any family that has no spouse, whereas the
families iterator does not.
</p><p>
<code class="function">Families</code> is an iterator that loops through the families a person was a spouse/parent in. The first
argument is a person. The second argument is a family variable that iterates through the families the
first person was a spouse/parent in. The third argument iterates through the spouses from the families;
if there is no spouse in a particular family, the variable is set to null for that iteration. The fourth
argument is an integer variable that counts the iterations.
</p><p>
<code class="function">Families</code> and <code class="function">Spouses</code> behave the same
except for one situation.  If the person is a spouse in a family that only has
one spouse identified,  that family does not show up with the 
<code class="function">spouses</code> iterator, but it does show up with the
<code class="function">families</code> iterator.  One caution, this situation causes
the 3rd argument of the <code class="function">families</code> iterator to be set to
null.  You must check for this.
</p><p>
<code class="function">Forindi</code> is an iterator that loops through every person in
the database in ascending key order. Its first
parameter is a variable that iterates through the persons; its second 
parameter is an integer counter
variable that counts the persons starting at one.
</p><p>
<code class="function">mothers</code> is an iterator that loops through every female
parent of the specified individual. 
Its first parameter is a person;
its third parameter is a family variable that iterates through the families
that the person is a child in;
its second parameter is a person variable that is the female parent
associated with the family in the third parameter;
The fourth parameter is a variable that counts the families returned starting at one.
</p><p>
<code class="function">Parents</code> is an iterator that loops through every family
that a person is a child in.  Note: This iterator's name begins with a
capital P.  There is another function of the same name that begins with a
lower case p.
Its first parameter is a person;
its second parameter is a family variable that iterates through the families
that the person is a child in; and
the third parameter is a variable that counts the families returned starting at one.
</p><p>
<code class="function">Forindi</code> is an iterator that loops through every person in
the database in ascending key order. Its first
parameter is a variable that iterates through the persons; its second 
parameter is an integer counter
variable that counts the persons starting at one.
</p><p>
<code class="function">fathers</code> and
<code class="function">mothers</code> are iterators that loop through each family
the specified individual is in returns each father or mother found.
If a non-traditional family is processed, there will be separate iterations
for each father or mother found.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928536928"></a>
Family Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">marriage</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first marriage event of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">husband</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first husband/father of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">wife</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first wife/mother of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">nchildren</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number of children in
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">firstchild</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first child of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">lastchild</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
last child of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">key</strong>(</code></td><td><var class="pdparam">FAM|INDI</var><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM|INDI</var>,
<var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
internal key of (works for persons also)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">fnode</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
root GEDCOM node of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">root</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
root GEDCOM node of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">fam</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
find family from key
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">firstfam</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first family in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">lastfam</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
last family in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">nextfam</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
next family in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">prevfam</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
previous family in database in key order
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">children</strong>(</code></td><td><var class="pdparam">FAM</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through children of family
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">spouses</strong>(</code></td><td><var class="pdparam">FAM</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var><var class="pdparam">INDI_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all husbands and wives of a family
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">forfam</strong>(</code></td><td><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all families in database
</p></dd></dl></div><p>
These functions take a family as an argument and return information about it.
</p><p>
<code class="function">Marriage</code> returns the first marriage event found in the family record, if any; it returns <span class="returnvalue">null</span> if there is
no marriage event.
</p><p>
<code class="function">Husband</code> returns the first husband/father of the family, if any; and <code class="function">wife</code> returns the first
wife/mother of the family, if any. Each returns <span class="returnvalue">null</span> if the requested person is not in the family.
</p><p>
<code class="function">Nchildren</code> returns the number of children in the family.
</p><p>
<code class="function">Firstchild</code> and <code class="function">lastchild</code> return the first child and last child in a family, respectively.
</p><p>
<code class="function">Key</code> was described in the section on person functions.
</p><p>
<code class="function">Root</code> and <code class="function">fnode</code> return the root node of a family <acronym class="acronym">GEDCOM</acronym> node tree. Note that a <span class="type">FAM</span> value is not a
<span class="type">NODE</span> value. If you want to process the nodes within a family node tree, you must first use <code class="function">root</code> or
<code class="function">fnode</code> function to get the root of the family node tree. <code class="function">Root</code> and <code class="function">fnode</code> are synonyms.
</p><p>
<code class="function">Fam</code> returns the family who's key is passed as an argument;
if no family has the key <code class="function">fam</code> 
returns <span class="returnvalue">null</span>.  Family keys are accepted
either as Fnnn or @Fnnn@.
</p><p>
<code class="function">Firstfam</code>, <code class="function">nextfam</code> and <code class="function">prevfam</code> allow you to iterate through all families in the database. <code class="function">Firstfam</code>
returns the first family in the database in key order. <code class="function">Nextfam</code> returns the next family after the
argument family in key order. <code class="function">Prevfam</code> returns the previous family before the argument family in key
order.
</p><p>
<code class="function">Children</code> is an iterator that loops through the children in a family. Its first parameter is a family
expression; its second parameter is a variable that iterates through each child; its third parameter is
an integer counter variable that counts the children starting at one. These two variables may be used
within the loop body.
</p><p>
<code class="function">spouses</code> is an iterator that loops through all the
husbands and wives of a family.
Its first parameter is a family expression; its second parameter is a
variable that iterates through each parent; its third parameter is
an integer counter variable that counts the parents starting at one.
These two variables may be used within the loop body.
</p><p>
<code class="function">Forfam</code> is an iterator that loops through every family in the database in ascending key order. Its first
parameter is a variable that iterates through the families; its second parameter is an integer counter
variable that counts the families starting at one.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928458448"></a>
Other types of records
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SOUR <strong class="fsfunc">forsour</strong>(</code></td><td><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all sources in database
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVEN <strong class="fsfunc">foreven</strong>(</code></td><td><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all EVEN nodes in database
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">OTHR <strong class="fsfunc">forothr</strong>(</code></td><td><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all other (notes, etc.) nodes in database
</p></dd></dl></div><p>
<code class="function">forsour</code> is an iterator that loops through all the Source
nodes in the database.  Its first argument is the SOUR record and its
second parameter is an integer counter variable that counts the sources
elements starting at one.
<code class="function">foreven</code> is an iterator that loops through all the Event
nodes in the database.  Its first argument is the EVEN record and its
second parameter is an integer counter variable that counts the events
elements starting at one.
<code class="function">forothr</code> is an iterator that loops through all the Other
nodes in the database.  Its first argument is the record (NOTE, etc.) and its
second parameter is an integer counter variable that counts the nodes
starting at one.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928443648"></a>
List Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">list</strong>(</code></td><td><var class="pdparam">LIST_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
declare a list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">clear</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
clear a list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">empty</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
check if list is empty
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">length</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
length of list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">enqueue</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
enqueue element on list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">ANY <strong class="fsfunc">dequeue</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
dequeue and return element from list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">requeue</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
requeue an element on list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">push</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
push element on list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">ANY <strong class="fsfunc">pop</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
pop and return element from list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">setel</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">INT</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">INT</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
array element assignment
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">ANY <strong class="fsfunc">getel</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
array element selection
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">inlist</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
is second argument in list.
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">sort</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
sort list elements
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">rsort</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
reverse sort list elements
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">LIST <strong class="fsfunc">dup</strong>(</code></td><td><var class="pdparam">LIST</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
duplicate a list
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">forlist</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">ANY_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var><var class="pdparam">ANY_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all elements of list
</p></dd></dl></div><p>
<span class="application">LifeLines</span> provides general purpose lists that can be accessed as queues, stacks or arrays. A
list must be declared with the <code class="function">list</code> function before it can be used. Redeclaring an existing
variable with the <code class="function">list</code> clears it and restores it to being 
an empty list.  If the argument to list() is the name of a
parameter to the current routine, the reference to the calling routines
list is removed and a new list is created.
</p><p>
A list can have any number of elements. <code class="function">Empty</code> returns <span class="returnvalue">true</span> if the list
has no elements and <span class="returnvalue">false</span> otherwise. <code class="function">Length</code> returns the length of the
list. The only parameter to both is a list.  The following diagram
indicates how the various access functions for a list interact:
</p><p>
<span class="inlinemediaobject"><img src="listops.jpg" /></span>
</p><p>
<code class="function">Enqueue</code>, <code class="function">dequeue</code> and <code class="function">requeue</code> provide queue access to a
list.  <code class="function">Enqueue</code> adds an element to the back of a queue, <code class="function">dequeue</code> removes and
returns the element from the front of a queue, and <code class="function">requeue</code> adds an element to the front of a queue.
The first parameter to all three is a list, and the second parameter to <code class="function">enqueue</code> and
<code class="function">requeue</code> is the value to be added to the queue and can be any value.
</p><p>
<code class="function">Push</code> and <code class="function">pop</code> provide stack access to a list. <code class="function">Push</code> pushes
an element on the stack, and <code class="function">pop</code> removes and returns the most recently pushed element from the
stack. The first parameter to both is a list, and the second parameter to <code class="function">push</code> is the value to be
pushed on the stack and can be of any type.
</p><p>
<code class="function">Setel</code> and <code class="function">getel</code> provide array access to a list.  <code class="function">Setel</code>
sets a value of an array element, and <code class="function">getel</code> returns the value of an array element. The first
parameter to both is a list; the second parameter to both is an integer index into the array; and the third parameter to
<code class="function">setel</code> is the value to assign to the array element and can be of any type. Array elements are
indexed starting at one. Unassigned elements are assumed to be <span class="returnvalue">null</span>
(<span class="returnvalue">0</span>). Arrays automatically grow in size to accommodate the largest index value that is used.
Passing 0 references the last element at the other end from 1, and -1 the one before it, etc. 
</p><p>
<code class="function">inlist</code> compares the second argument with each element
in the list.  If it finds a match <code class="function">inlist</code> returns
<span class="returnvalue">true</span>.
</p><p>
<code class="function">sort</code> and <code class="function">rsort</code> sort a list, using the elements of the second array to
determine the new order. Both lists are reordered, so essentially both are sorted using the sort order of the second
argument. (If only one argument is given, it is sorted on its own elements.) 
rsort sorts in order reverse of sort.
The order that sort produces places the smallest element at position 1, and the
largest element at the end of the list, such that <code class="function">dequeue</code> 
will remove the smallest element.
</p><p>
<code class="function">dup</code> creates a copy of a <span class="type">list</span>.  If b is a 
<span class="type">list</span>, the function <code class="function">set</code>(a,b) makes the variable a a reference 
to the <span class="type">list</span> b.  If you
want to make a new <span class="type">list</span>, you must use 
<code class="function">set</code>(a,<code class="function">dup</code>(b)).
</p><p>
<code class="function">Forlist</code> is an iterator that loops through the element in a list. Its first parameter is a
<span class="type">LIST</span> expression; its second parameter is a variable that iterates through the list elements; and its third
parameter is an integer counter variable that counts the list elements starting at one.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928355056"></a>
Table Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">table</strong>(</code></td><td><var class="pdparam">TABLE_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">TABLE_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
declare a table
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">insert</strong>(</code></td><td><var class="pdparam">TABLE</var><var class="pdparam">STRING</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">TABLE</var>,
<var class="pdparam">STRING</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
insert entry in table
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">ANY <strong class="fsfunc">lookup</strong>(</code></td><td><var class="pdparam">TABLE</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">TABLE</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
lookup and return entry from table
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">length</strong>(</code></td><td><var class="pdparam">TABLE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">TABLE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
size of the table
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">empty</strong>(</code></td><td><var class="pdparam">TABLE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">TABLE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
check if table is empty
</p></dd></dl></div><p>
These functions provide general purpose, keyed tables. A table must be declared with the <code class="function">table</code>
function before it can be used.
</p><p>
<code class="function">Insert</code> adds an object and its key to a table. Its first parameter is a table; the second parameter
is the object's key; and the third parameter is the object itself. The key must be a string and the object can be any
value. If there already is an object in the table with that key, the old object is replaced with the new.
</p><p>
<code class="function">Lookup</code> retrieves an object from a table. Its first parameter is a table, and the second parameter
is the object's key. The function returns the object with that key from the table; if there is no such object,
<span class="returnvalue">null</span> is returned.
<code class="function">length</code> returns the number of elements in the table.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928332256"></a>
GEDCOM Node Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">xref</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
cross reference index of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">tag</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
tag of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">value</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
value of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">parent</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
parent node of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">child</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first child of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">sibling</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
next sibling of
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">savenode</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
copy a node structure
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">level</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
level of a node
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">fornodes</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">NODE_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var><var class="pdparam">NODE_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through child nodes
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">fornotes</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">STRING_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var><var class="pdparam">STRING_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through notes on a node
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">traverse</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var><var class="pdparam">NODE_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all descendent nodes
</p></dd></dl></div><p>

These functions provide access to the components of a <acronym class="acronym">GEDCOM</acronym> node. All take a <acronym class="acronym">GEDCOM</acronym> node as their
only parameter, and each returns a different value associated with the node.

</p><p>
<code class="function">Xref</code> returns the cross reference index of the node, if any; <code class="function">tag</code> returns the tag of the node; and <code class="function">value</code>
returns the value of the node, if any. If there is no cross reference, <code class="function">xref</code> returns <span class="returnvalue">null</span>; if there is no value,
value returns <span class="returnvalue">null</span>.
</p><p>
<code class="function">Parent</code> returns the parent node of the node, if any; <code class="function">child</code> returns the first child node of the node, if any;
and <code class="function">sibling</code> returns the next sibling node of the node, if any. Whenever there is no such related node,
these functions return <span class="returnvalue">null</span>. These three functions allow simple navigation through a <acronym class="acronym">GEDCOM</acronym> node
tree.
</p><p>
<code class="function">Savenode</code> makes a copy of the node, and the substructure of nodes below the node, that is passed to it.
Beware: the memory used to make the copy is never returned to the system.
</p><p>
The <code class="function">level</code> function returns the level of the node.
</p><p>
<code class="function">Fornodes</code> is an iterator that loops through the child nodes of a <acronym class="acronym">GEDCOM</acronym> node. Its first argument is a
node expression, and its second parameter is a variable that iterates through each direct child node of
the first node.
</p><p>
<code class="function">Fornotes</code> is an iterator that loops through the NOTE nodes 
of a <acronym class="acronym">GEDCOM</acronym> node. Its first argument is a
node expression, and its second parameter is a variable that returns the
value of the NOTE.  The value includes processed sub CONC and CONT records.
</p><p>
<code class="function">Traverse</code> is an iterator providing a general method for traversing <acronym class="acronym">GEDCOM</acronym> trees. Its first parameter is
a node expression; its second parameter is a variable that iterates over every node under the first node
in a top down, left to right manner; and its third parameter is a variable that is set to the level of the
current node in the iteration.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928280144"></a>
Event and Date Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">date</strong>(</code></td><td><var class="pdparam">EVENT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
date of, value of first <em class="structfield"><code>DATE</code></em> line
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">place</strong>(</code></td><td><var class="pdparam">EVENT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
place of, value of first <em class="structfield"><code>PLAC</code></em> line
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">year</strong>(</code></td><td><var class="pdparam">EVENT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
year or, 1st string of 3-4 digits in 1st <em class="structfield"><code>DATE</code></em> line
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">long</strong>(</code></td><td><var class="pdparam">EVENT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
date and place, values of 1st <em class="structfield"><code>DATE</code></em> and <em class="structfield"><code>PLAC</code></em> lines
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">short</strong>(</code></td><td><var class="pdparam">EVENT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
date and place of, abbreviated from
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">gettoday</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
returns the `event' of the current date
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">setdate</strong>(</code></td><td><var class="pdparam">VAR</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">VAR</var><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
creates an event with specified date and assigns to specified variable
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">dayformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set day format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">monthformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set month format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">yearformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set year format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">eraformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set era format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">dateformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set date format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">datepic</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set custom date format for stddate calls
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">stddate</strong>(</code></td><td><var class="pdparam">EVENT|STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT|STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
date of, in current format
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">complexformat</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set complex date format
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">complexpic</strong>(</code></td><td><var class="pdparam">INT</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set custom complex date picture string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">complexdate</strong>(</code></td><td><var class="pdparam">EVENT|STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT|STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
date of, in current complex format
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">dayofweek</strong>(</code></td><td><var class="pdparam">EVENT|STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT|STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
day of week, in appropriate language
</p></dd></dl></div><p>
These functions extract information about the dates and places of events.
</p><p>
<code class="function">Date</code> returns the value of the first <em class="structfield"><code>DATE</code></em> line in an event, a node in a <acronym class="acronym">GEDCOM</acronym> record tree. <code class="function">Date</code>
finds the first <em class="structfield"><code>DATE</code></em> line one level deeper than the event node. <code class="function">Place</code> returns the value of the first
<em class="structfield"><code>PLAC</code></em> line in an event. <code class="function">Year</code> returns the first three or four digit number in the value of the first <em class="structfield"><code>DATE</code></em>
line in an event; this number is assumed to be the year of the event.
</p><p>
<code class="function">Long</code> returns the verbatim values of the first <em class="structfield"><code>DATE</code></em> and <em class="structfield"><code>PLAC</code></em> lines in an event, concatenated together
and separated by a comma. <code class="function">Short</code> abbreviates information from the first <em class="structfield"><code>DATE</code></em> and <em class="structfield"><code>PLAC</code></em> lines, concatenates the shortened information together with a comma separator and returns it. An abbreviated
date is its year; an abbreviated place is the last component in the value, further abbreviated if the
component has an entry in the place abbreviation table.
</p><p>
<code class="function">Gettoday</code> creates an event that has today's date in the <em class="structfield"><code>DATE</code></em> line.
<code class="function">Setdate</code> creates an event that has the specified date in the <em class="structfield"><code>DATE</code></em> line,
and assigns the new event to the specified variable.
</p><p>
The next seven functions are used to format dates in a variety of ways.
<code class="function">Dayformat</code>, <code class="function">monthformat</code>,
<code class="function">yearformat</code>, <code class="function">eraformat</code>, and
<code class="function">dateformat</code> select style options for formatting the day,
month, year, era, and overall date structure; <code class="function">stddate</code>
returns dates in the selected style.
<code class="function">datepic</code> allows specifying a custom pattern that overrides
the date format selected with <code class="function">dateformat</code>.  The string
supplied specifies the placement of the day, month and year in the string with
%d, %m and %y.  A null argument disables the overridden format.
The argument to <code class="function">stddate</code> is normally an event and the
date is extracted from the event and formatted. If the argument is a 
date string it is converted using the current date formats.
</p><p>
The next three functions provide for more complex formatting of dates. Taking
into account the abt, est, cal, bef, aft, fr and to qualifiers on GEDCOM dates. 
<code class="function">complexformat</code> selects the format to use. The format
effects only the complex picture, not the format of the date itself.
The function
<code class="function">complexpic</code> can be used to specify a custom picture string
for any or all of the 9 custom format strings.  The custom string can be
canceled by passing a null for the string.  When a custom picture string is
provided it overrides both the abbreviated and full word picture strings.
<code class="function">complexdate</code>
formats the date similarly to <code class="function">stddate</code>, but with the 
addition of the complex date format string selected.
</p><p>
The day format codes passed to <code class="function">dayformat</code> are: 
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>leave space before single digit days</td></tr><tr><td>1</td><td>
use leading 0 before single digit days
</td></tr><tr><td>2</td><td>
no space or leading 0 before single digit days
</td></tr></tbody></table></div><p>

The month format codes passed to <code class="function">monthformat</code> are:
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>
number with space before single digit months
</td></tr><tr><td>1</td><td>
number with leading zero before single digit months
</td></tr><tr><td>2</td><td>
number with no space or zero before single digit months
</td></tr><tr><td>3</td><td>
upper case abbreviation (eg, JAN, FEB) (localized)
</td></tr><tr><td>4</td><td>
capitalized abbreviation (eg, Jan, Feb) (localized)
</td></tr><tr><td>5</td><td>
upper case full word (eg, JANUARY, FEBRUARY) (localized)
</td></tr><tr><td>6</td><td>
capitalized full word (eg, January, February) (localized)
</td></tr><tr><td>7</td><td>
lower case abbreviation (eg, jan, feb) (localized)
</td></tr><tr><td>8</td><td>
lower case full word (eg, january, february) (localized)
</td></tr><tr><td>9</td><td>
upper case abbreviation in English per GEDCOM (eg, JAN, FEB)
</td></tr><tr><td>10</td><td>
lower case roman letter (eg, i, ii)
</td></tr><tr><td>11</td><td>
upper case roman letter (eg, I, II)
</td></tr></tbody></table></div><p>
The year format codes passed to <code class="function">yearformat</code> are:
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>
use leading spaces before years with less than four digits
</td></tr><tr><td>1</td><td>
use leading 0 before years with less than four digits
</td></tr><tr><td>2</td><td>
no space or leading 0 before years
</td></tr></tbody></table></div><p>
The era format codes passed to <code class="function">eraformat</code> are: 
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>
no AD/BC markers
</td></tr><tr><td>1</td><td>
trailing B.C. if appropriate
</td></tr><tr><td>2</td><td>
trailing A.D. or B.C.
</td></tr><tr><td>11</td><td>
trailing BC if appropriate
</td></tr><tr><td>12</td><td>
trailing AD or BC
</td></tr><tr><td>21</td><td>
trailing B.C.E. if appropriate
</td></tr><tr><td>22</td><td>
trailing C.E. or B.C.E.
</td></tr><tr><td>31</td><td>
trailing BC if appropriate
</td></tr><tr><td>32</td><td>
trailing CE or BCE
</td></tr></tbody></table></div><p>
The full date formats passed to <code class="function">stddate</code> are:
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /></colgroup><tbody><tr><td>0</td><td>
da mo yr
</td></tr><tr><td>1</td><td>
mo da, yr
</td></tr><tr><td>2</td><td>
mo/da/yr
</td></tr><tr><td>3</td><td>
da/mo/yr
</td></tr><tr><td>4</td><td>
mo-da-yr
</td></tr><tr><td>5</td><td>
da-mo-yr
</td></tr><tr><td>6</td><td>
modayr
</td></tr><tr><td>7</td><td>
damoyr
</td></tr><tr><td>8</td><td>
yr mo da
</td></tr><tr><td>9</td><td>
yr/mo/da
</td></tr><tr><td>10</td><td>
yr-mo-da
</td></tr><tr><td>11</td><td>
yrmoda
</td></tr><tr><td>12</td><td>
yr  (year only, omitting all else)
</td></tr><tr><td>13</td><td>
da/mo yr
</td></tr><tr><td>14</td><td>
(As in GEDCOM)
</td></tr></tbody></table></div><p>
The complex date formats selected by the <code class="function">complexformat</code>
and used by <code class="function">complexdate</code> are: 
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /><col /></colgroup><tbody><tr><td> </td><td>
Mode
</td><td>
Example
</td></tr><tr><td>3</td><td>
use abbreviations in uppercase
</td><td>
ABT  1 JAN 2002
</td></tr><tr><td>4</td><td>
use abbreviations in titlecase
</td><td>
Abt  1 JAN 2002
</td></tr><tr><td>5</td><td>
use uppercased full words 
</td><td>
ABOUT  1 JAN 2002
</td></tr><tr><td>6</td><td>
use titlecased full words
</td><td>
About  1 JAN 2002
</td></tr><tr><td>7</td><td>
use abbreviations in lowercase
</td><td>
abt  1 JAN 2002
</td></tr><tr><td>8</td><td>
use lowercase full words
</td><td>
about  1 JAN 2002
</td></tr></tbody></table></div><p>
The complex date string pictures that can be overridden with the
<code class="function">complexpic</code> are:
</p><div class="informaltable"><table border="0"><colgroup><col width="0.5in" /><col /><col /></colgroup><tbody><tr><td> </td><td>
Abbreviation
</td><td>
Full word
</td></tr><tr><td>0</td><td>
abt %1
</td><td>
about %1
</td></tr><tr><td>1</td><td>
est %1
</td><td>
estimated %1
</td></tr><tr><td>2</td><td>
cal %1
</td><td>
calculated %1
</td></tr><tr><td>3</td><td>
bef %1
</td><td>
before %1
</td></tr><tr><td>4</td><td>
aft %1
</td><td>
after %1
</td></tr><tr><td>5</td><td>
bet %1 and %2
</td><td>
between %1 and %2
</td></tr><tr><td>6</td><td>
fr %1
</td><td>
from %1
</td></tr><tr><td>7</td><td>
to %1
</td><td>
to %1
</td></tr><tr><td>8</td><td>
fr %1 to %2
</td><td>
from %1 to $2
</td></tr></tbody></table></div><p>
The function dayofweek is a way to access the (localized) day name, eg, "Thursday",
for a given date.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928100240"></a>
Date Arithmetic
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FLOAT <strong class="fsfunc">date2jd</strong>(</code></td><td><var class="pdparam">EVENT|STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">EVENT|STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
julian date number is number of days since origin (-4712/01/01 12h00 UT) of specified date
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">jd2date</strong>(</code></td><td><var class="pdparam">FLOAT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
Convert julian date number to date (actually to event structure with subordinate date)
</p></dd></dl></div><p>
These functions allow adding or subtracting days from dates.
</p><p>
<code class="function">date2jd</code> converts a date into a number of days, which can then be adjusted by simple arithmetic.
Finally, <code class="function">jd2date</code> converts the number of days back into a date.
</p><p>
Julian calendar is used before 4 OCT 1582, and Gregorian calendar afterwards. 
</p><p>
As with other date functions, calendar escapes (eg, "@#DRENCH R#@") are not respected, 
and the only the first date of the DATE record is used.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928089552"></a>
Value Extraction Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">extractdate</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">INT_V</var><var class="pdparam">INT_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var>,
<var class="pdparam">INT_V</var>,
<var class="pdparam">INT_V</var>,
<var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract a date
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">extractnames</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">LIST_V</var><var class="pdparam">INT_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var>,
<var class="pdparam">LIST_V</var>,
<var class="pdparam">INT_V</var>,
<var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract a name
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">extractplaces</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">LIST_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var>,
<var class="pdparam">LIST_V</var>,
<var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract a place
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">extracttokens</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">LIST_V</var><var class="pdparam">INT_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">LIST_V</var>,
<var class="pdparam">INT_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract tokens
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">extractdatestr</strong>(</code></td><td><var class="pdparam">VARB</var><var class="pdparam">VARB</var><var class="pdparam">VARB</var><var class="pdparam">VARB</var><var class="pdparam">VARB</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">VARB</var>,
<var class="pdparam">VARB</var>,
<var class="pdparam">VARB</var>,
<var class="pdparam">VARB</var>,
<var class="pdparam">VARB</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract date from string
</p></dd></dl></div><p>
Value extraction functions read the values of certain lines and return those values in extracted form.
</p><p>
<code class="function">Extractdate</code> extracts date values from either an event node
or <em class="structfield"><code>DATE</code></em> node. The first parameter must be
a node; if its tag is <em class="structfield"><code>DATE</code></em>, the date is extracted 
from the value of that node; if its tag is not <em class="structfield"><code>DATE</code></em>,
the date is extracted from the first <em class="structfield"><code>DATE</code></em> line one 
level below the argument node. The remaining three arguments are variables.
The first is assigned the integer value of the extracted day; the second is
assigned the integer value of the extracted month; and the third is assigned
the integer value of the extracted year.
</p><p>
<code class="function">Extractnames</code> extracts name components from a <em class="structfield"><code>NAME</code></em> line. Its first argument is either an <em class="structfield"><code>INDI</code></em> or a
<em class="structfield"><code>NAME</code></em> node. If it is a <em class="structfield"><code>NAME</code></em> line, the components are extracted from the value of that node; if it is an
<em class="structfield"><code>INDI</code></em> line, the components are extracted from the value of the first <em class="structfield"><code>NAME</code></em> line in the person record.
The second argument is a list that will hold the extracted components. The third argument is an integer
variable that is set to the number of extracted components. The fourth argument is a variable that is set
to the index (starting at one) of the surname component; the <code class="literal">/</code> characters are removed from around the
surname component. If there is no surname this argument variable is set to zero.
</p><p>
<code class="function">Extractplaces</code> extracts place components
from a <em class="structfield"><code>PLAC</code></em> node. The first
argument is a node; if its tag is
<em class="structfield"><code>PLAC</code></em>, the places are extracted from
the value of the node; if its tag is not
<em class="structfield"><code>PLAC</code></em>, places are extracted from the
first <em class="structfield"><code>PLAC</code></em> line one level below the
argument node. The second parameter is a list that will hold
the extracted components. The third argument is an integer
variable that is set to the number of extracted
components. Place components are defined by the
comma-separated portions of the
<em class="structfield"><code>PLAC</code></em> value; leading and trailing
white space is removed from the components, while all internal
white space is retained.
</p><p>
<code class="function">Extracttokens</code> extracts tokens from a
string and places them in a list. The first argument is the
string to extract tokens from. The second argument is the list
to hold the tokens. The third argument is an integer variable
that is set to the number of tokens extracted. The fourth
parameter is the string of delimiter characters that
<code class="function">extracttokens</code> uses to break the input
string into tokens.
</p><p>
<code class="function">extractdatestr</code> extracts date values from a .
<em class="structfield"><code>STRING</code></em>.  It is intended for internal verification
of date extraction code.
The remaining five arguments are variables.
The second is assigned the integer value of the extracted day; the third is
assigned the integer value of the extracted month; and the fourth is assigned
the integer value of the extracted year.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054928047984"></a>
User Interaction Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getindi</strong>(</code></td><td><var class="pdparam">INDI_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
identify person through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getindiset</strong>(</code></td><td><var class="pdparam">SET_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
identify set of persons through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getfam</strong>(</code></td><td><var class="pdparam">FAM_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
identify family through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getint</strong>(</code></td><td><var class="pdparam">INT_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
get integer through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getstr</strong>(</code></td><td><var class="pdparam">STRING_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
get string through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">choosechild</strong>(</code></td><td><var class="pdparam">INDI|FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI|FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select child of person/family through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">FAM <strong class="fsfunc">choosefam</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select family person is in as spouse
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">chooseindi</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select person from set of persons
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">choosespouse</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select spouse of person
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">choosesubset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select a subset of persons from set of persons
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">menuchoose</strong>(</code></td><td><var class="pdparam">LIST</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">LIST</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
select from a list of options
</p></dd></dl></div><p>
These functions interact with the user to get information needed by the program.
</p><p>
<code class="function">Getindi</code> asks the user to identify a person. The first argument is a variable that is set to the person.
The second is an optional string to use as a prompt. <code class="function">Getindiset</code> asks the user to identify a set of persons.
<code class="function">Getfam</code> asks the user identify a family. <code class="function">Getint</code> and <code class="function">getstr</code> ask the user enter an integer and string,
respectively.
</p><p>
<code class="function">Choosechild</code> asks the user select a child of a family or
person; its single argument is a person or family; it return the child. 

<code class="function">Choosefam</code> has the user select a family that a
person is in as a spouse; its argument is a person; it returns the
family.

<code class="function">Chooseindi</code> has the user select one person from a
set of persons; its argument in a set of persons; it returns the chosen
person.

<code class="function">Choosespouse</code> has the user select a spouse of a
person or family; its argument is a person or family; it returns the
chosen spouse. (Note: if a husband marries the same woman several times,
she will appear multiple times if choosespouse is called for that
husband, with the different marriage dates if known.)

<code class="function">Choosesubset</code> has the user select a subset of
persons from a set of persons; its argument is the chosen subset.
</p><p>
<code class="function">Menuchoose</code> allows the user to select from an arbitrary menu. The first argument is a list of strings
making up the items in the menu; the second, optional argument is a prompt string for the menu;
<code class="function">menuchoose</code> returns the integer index of the item selected by the user; if the user doesn't select an item,
<span class="returnvalue">zero</span> is returned.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927998736"></a>
String Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">lower</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert to lower case
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">upper</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert to upper case
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">capitalize</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
capitalize first letter
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">titlecase</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
capitalize first letter of each word
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">trim</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
trim to length
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">rjustify</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
right justify in field
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">concat</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
concatenate two strings
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">strconcat</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
concatenate two strings
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">strlen</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number of characters in string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">substring(</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">INT</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">INT</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
substring function
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">index</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
index function
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">d</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number as decimal string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">f</strong>(</code></td><td><var class="pdparam">FLOAT</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FLOAT</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number as floating point string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">card</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number in cardinal form (<code class="literal">one, two, ...</code>)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">ord</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number in ordinal form (<code class="literal">first, second, ...</code>)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">alpha</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert number to Latin letter (<code class="literal">a, b, ...</code>)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">roman</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
number in Roman numeral form (<code class="literal">i, ii, ...</code>)
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">strsoundex</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
find SOUNDEX value of arbitrary string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">strtoint</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert numeric string to integer
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">atoi</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert numeric string to integer
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">strcmp</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
general string compare
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">eqstr</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compare strings for equality
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">nestr</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
compare strings for inequality
</p></dd></dl></div><p>
These functions provide string handling. Prior to version 3.0.6, many of them used an approach to memory management
chosen for absolute minimal memory footprint. A function using this approach constructed its output string in its own string
buffer, reusing that buffer each time it was called. When a function using this approach returned a string
value it returned its buffer. In consequence the strings returned by these functions were to be either used or
saved before the function was called again.
</p><p>
<code class="function">Lower</code> and <code class="function">upper</code> convert the letters
in their arguments to lower or upper case, respectively.
<code class="function">Capitalize</code> converts the first character of the argument,
if it is a letter, to upper case. <code class="function">Lower</code> and
<code class="function">upper</code> historically used the buffer return method;
<code class="function">capitalize</code> operates on and returns its argument.
<code class="function">titlecase</code> converts the first letter of each word if it is
a letter, to upper case and all other characters to lower case.
</p><p>
<code class="function">Trim</code> shortens a string to the length specified by the second parameter. If the string is already of that
length or shorter the string is not changed. <code class="function">Rjustify</code> right justifies a string into another string of the
length specified by the second parameter. If the original string is shorter than the justified string,
blanks are inserted to the left of the original string; if the string is longer than the justified string, the
original string is truncated on the right. <code class="function">Trim</code> historically used the buffer return method; <code class="function">rjustify</code> creates and returns
a new string.
</p><p>
<code class="function">Concat</code> and <code class="function">strconcat</code> concatenate strings and return the result. They are identical functions. They may
take two to 32 string arguments; null arguments are allowed. The arguments are concatenated together into
a single, newly allocated string, which is returned.
</p><p>
<code class="function">Strlen</code> returns the length of the string argument.
</p><p>
<code class="function">Substring</code> returns a substring of the first argument string. The second and third arguments are the
indices of the first and last characters in the argument string to use to form the substring. The indexes are relative one.
<code class="function">Substring</code> historically used the buffer return method.
</p><p>
<code class="function">Index</code> returns the character index of the nth occurrence of a substring within a string. The index is the
relative one character offset to the beginning of the substring. The first argument is the string; the
second argument is the substring; and the third argument is the occurrence number.
</p><p>
<code class="function">D</code>, <code class="function">card</code>, <code class="function">ord</code>,
<code class="function">alpha</code> and <code class="function">roman</code> convert integers
to strings. <code class="function">D</code> converts an integer to a numeric string;
<code class="function">card</code> converts an integer to a cardinal number string 
(eg, <code class="literal">one, two, three</code>); <code class="function">ord</code> converts an
integer to an ordinal number (eg, <code class="literal">first, second, third</code>);
<code class="function">alpha</code> converts an integer to a letter
(eg, <code class="literal">a, b, c</code>); and <code class="function">roman</code> converts an 
integer to a Roman numeral (eg, <code class="literal">i, ii, iii</code>).
</p><p>
The <code class="function">f</code> function converts a float to a string.  The
optional second argument specifies the precision of the output.  The default
precision is 2.
</p><p>
<code class="function">Strsoundex</code> converts an arbitrary string to a SOUNDEX value. Non-ASCII text characters are ignored
in the string.
</p><p>
<code class="function">Strtoint</code> converts a numeric string to an integer. <code class="function">Atoi</code> is identical to <code class="function">strtoint</code>.
</p><p>
<code class="function">Strcmp</code> compares two strings and returns an integer that is less than zero, equal to zero, or greater than
zero, if, respectively, the first string is lexicographically less than, equal to, or greater than the second
string. <code class="function">Eqstr</code> and <code class="function">nestr</code> return whether two strings are equal or not equal, respectively.
<code class="function">Strcmp</code>, <code class="function">Eqstr</code>, and <code class="function">nestr</code> all treat null strings as empty strings,
which is to say they pretend that a null string is actually "". This means that all null and empty strings compare as equal.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927882224"></a>
Output Mode Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">linemode</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
use line output mode
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">pagemode</strong>(</code></td><td><var class="pdparam">INT</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
use page output mode with given page size
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">col</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
position to column in output
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">getcol</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
get current column in output
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">row</strong>(</code></td><td><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
position to row in output
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">pos</strong>(</code></td><td><var class="pdparam">INT</var><var class="pdparam">INT</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT</var>,
<var class="pdparam">INT</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
position to (row, col) coordinate in output
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">pageout</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
output page buffer
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">nl</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
newline character
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">sp</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
space character
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">qt</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
double quote character
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">newfile</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
send program output to this file
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">outfile</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
return name of current program output file
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">copyfile</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
copy file contents to program output file
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOLEAN <strong class="fsfunc">test</strong>(</code></td><td><var class="pdparam">STRING</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;<br /><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
tests for characteristics of a file
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">print</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><var class="pdparam">...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var>
<var class="pdparam">...</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
print string to standard output window
</p></dd></dl></div><p>
Reports can be generated in two modes, line mode and page mode. <code class="function">Linemode</code> selects line mode and
<code class="function">pagemode</code> selects page mode; line mode is the default. The first parameter to <code class="function">pagemode</code> is the number
of rows per page; the second parameter is the number of columns per page. When in the line mode report
output is written directly to the output file as the program runs, line by line. When in page mode output
is buffered into pages which are written to the output file when <code class="function">pageout</code> is called. Page mode is useful
for generating charts (eg, pedigree charts or box charts) where it is convenient to compute the two-dimensional
location of output.
</p><p>
<code class="function">Col</code> positions output to the given column. If the current 
column is greater than the argument, col
positions output to the given column on the next line. <code class="function">Col</code>
works in both modes.
<code class="function">Getcol</code> returns the current column in the output.
</p><p>
<code class="function">Row</code> positions output to the first character in the given row; <code class="function">row</code> can only be used in page mode.
</p><p>
<code class="function">Pos</code> positions output to a specified row and column coordinate; the first argument specifies the row, and
the second specifies the column. <code class="function">Pos</code> can only be used in page mode.
</p><p>
<code class="function">Nl</code> write a new line character to the output file; <code class="function">sp</code> writes a space character to the output file; and <code class="function">qt</code>
writes a quote character to the output file. Note that <code class="literal">\n</code> and <code class="literal">\'</code> can be used within string values to
represent the newline and double quote characters.
</p><p>
<code class="function">Newfile</code> specifies the name of the report output file. Its first argument is the file's name; its second
argument is an append flag - if its value is non-zero the report appends to this file; if its value is zero
the report overwrites the contents of the file. <code class="function">Newfile</code> can be called many times; this allows a single report program to generate many report output files during one execution. Programs are not required to
use <code class="function">newfile</code>; if it is not used then <span class="application">LifeLines</span> automatically asks for the name of the report output file.
</p><p>
<code class="function">Outfile</code> returns the name of the current report output file.
</p><p>
<code class="function">Copyfile</code> copies the contents of a file to the report output file; its argument is a string whose value is
the name of a file; if the file name is not absolute nor relative, then the <code class="envar">LLPROGRAMS</code> environment
variable, if set, will be used to search for the file; the file is opened and its contents copied to the report
output file.
</p><p>
<code class="function">Test</code> will check for a specified property of the specified file.  The first argument is the property, the second argument is the filename.
Supported properties are:
r - file is readable
w - file is writable
x - file is executable
s - file has non-zero size
z - file has zero size
e - file exists
f - check if argument is a file
d - check if argument is a directory

The return value is TRUE or FALSE, depending on whether the file had the specified property or not.
</p><p>
<code class="function">Print</code> prints its argument string to the standard output window; <code class="function">print</code> may have one to 32 arguments.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927813360"></a>
Person Set Functions and GEDCOM Extraction
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">indiset</strong>(</code></td><td><var class="pdparam">SET_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
declare a set variable
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">addtoset</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">INDI</var><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">INDI</var>,
<var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
add a person to a set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">deletefromset</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">INDI</var><var class="pdparam">BOOL</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">INDI</var>,
<var class="pdparam">BOOL</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
remove a person from a set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">length</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
size of a set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">union</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
union of two sets
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">intersect</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
intersection of two sets
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">difference</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
difference of two sets
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">parentset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all parents
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">childset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all children
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">spouseset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all spouses
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">siblingset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all siblings
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">ancestorset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all ancestors
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">descendentset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set of all descendents
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">descendantset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
same as descendentset; spelling
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">SET <strong class="fsfunc">uniqueset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
remove duplicates from set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">namesort</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
sort indiset by name
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">keysort</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
sort indiset by key values
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">valuesort</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
sort indiset by auxiliary values
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">genindiset</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
generate indiset from GEDCOM name string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">inset</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var>,
<var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
<span class="returnvalue">true</span> if the Individual is in the set.
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INDI <strong class="fsfunc">forindiset</strong>(</code></td><td><var class="pdparam">SET</var><var class="pdparam">INDI_V</var><var class="pdparam">ANY_V</var><var class="pdparam">INT_V</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var><var class="pdparam">INDI_V</var><var class="pdparam">ANY_V</var><var class="pdparam">INT_V</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
loop through all persons in person set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">gengedcomstrong</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
generate GEDCOM file from person set
</p></dd></dl></div><p>
These functions allow you to manipulate person sets. A person set is a potentially large set of persons;
each person may have an arbitrary value associated with him/her. A person set must be declared with
the <code class="function">indiset</code> function before it can be used.
</p><p>
<code class="function">Addtoset</code> adds a person to a set. The first argument is the set; the second argument is the person; and
the third argument may be any value. The same person may be added to a set more than once, each time
with a different value. <code class="function">Deletefromset</code> removes a person from a set. The first argument is the set; the
second argument is the person; if the third parameter is <span class="returnvalue">true</span> all of the person's entries are removed
from the set; if <span class="returnvalue">false</span> only the first entry is removed. 
<code class="function">Length</code> returns the number of persons in a person set.
</p><p>
<code class="function">Union</code>, <code class="function">intersect</code> and <code class="function">difference</code>
return the set union, set intersection and set difference, respectively, of two person sets.
Each functions takes two person sets as arguments and returns a third person set. The
functions actually modify their argument sets, both reordering them into canonical key order
and removing any duplicates (these operations are necessary to easily implement these types
of set functions).
</p><p>
<code class="function">Parentset</code>, <code class="function">childset</code>, <code class="function">spouseset</code> and <code class="function">siblingset</code> return the set of all parents, set of all children, set of
all spouses and set of all siblings, respectively, of the set of persons in their argument. In all cases there
is no change to the argument person set.
</p><p>
<code class="function">Ancestorset</code> returns the set all ancestors of all persons in the argument set. <code class="function">Descendentset</code> returns the
set of all descendents of all persons in the argument set. <code class="function">Descendantset</code> is the same as <code class="function">descendentset</code>; it allows an alternate spelling.
</p><p>
<code class="function">Uniqueset</code> sorts a person set by key value and then removes all entries with duplicate keys; the input
set is modified and returned.
</p><p>
<code class="function">Namesort</code>, <code class="function">keysort</code> and <code class="function">valuesort</code> sort a set of persons by name, by key and by associated value,
respectively.
</p><p>
Each person in a person set has an associated value. When a person is added to a set with <code class="function">addtoset</code>, the
value is explicitly assigned. When new sets are created by other functions, a number of rules are used to
associate values with persons as they are added to the new sets. For <code class="function">parentset</code>, <code class="function">childset</code> and
<code class="function">spouseset</code> the values are copied from the first input set person that causes the new person to be added
to the set. For <code class="function">union</code>, <code class="function">intersect</code> and <code class="function">difference</code>, the values are copied from the values in the first input
set, except in the case of <code class="function">union</code>, when persons are taken from the second set alone, in which case the
values come from there. For <code class="function">ancestorset</code> and <code class="function">descendantset</code> the value is set to the number of generations
the new person is away from the <span class="emphasis"><em>first</em></span> person in the input set that the new person is related to. If the
new person is related to more than one person in the input set, the value is set for the nearest
relationship; that is, the value is as low as possible. <code class="function">Valuesort</code> sorts a person set by the values of these
auxiliary values.
</p><p>
<code class="function">Genindiset</code> generates the set of persons that matches a string whose value is a name in <acronym class="acronym">GEDCOM</acronym>
format. <code class="function">Genindiset</code> uses the same algorithm that matches names entered at the browse prompt or by
the user interaction <code class="function">getindiset</code> function.
</p><p>
<code class="function">Inset</code> returns <span class="returnvalue">true</span> if the
specified individual is in the SET.
</p><p>
<code class="function">Forindiset</code> is an iterator that loops through each person in an indiset. The first parameter is an indiset.
The second parameter is a variable that iterates through each person in the set. The third parameter
iterates through the values associated with the persons. The fourth parameter is an integer variable
that counts the iterations.
</p><p>
<code class="function">Gengedcomstrong</code>  
generates GEDCOM format output to the report output file of all persons in the
argument person set. The output contains a person record for each person 
in the set, and all the family records that link at least two of the persons
in the set together.
The Source, Event and Other(X) record pointers and all top-level nodes
referenced by them are output.  This function does not output
header or trailer records required for a valid GEDCOM file.  They should
be added by a report using this function.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927705008"></a>
Record Update Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">createnode</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
create a GEDCOM node
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">addnode</strong>(</code></td><td><var class="pdparam">NODE</var><var class="pdparam">NODE</var><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var>,
<var class="pdparam">NODE</var>,
<var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
add a node to a GEDCOM tree
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">detachnode</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
delete a node from a GEDCOM tree
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">writeindi</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
write a person back to the database
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">writefam</strong>(</code></td><td><var class="pdparam">FAM</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">FAM</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
write a family back to the database
</p></dd></dl></div><p>
These functions allow you to modify an internal <acronym class="acronym">GEDCOM</acronym> node tree.
</p><p>
<code class="function">Createnode</code> creates a <acronym class="acronym">GEDCOM</acronym> node; the two arguments are tag and value strings,
respectively; the value string can be <span class="returnvalue">null</span>. <code class="function">Addnode</code> adds a node to a
node tree. The first argument is the new node; the second is the node in the tree that becomes the parent of the new
node; the third is the node in the tree that becomes the previous sibling of the new node; this argument is
<span class="returnvalue">null</span> if the new node is to become the first child of the parent.
<code class="function">Detachnode</code> removes a node from a node tree. <code class="function">writeindi</code> writes an individual
record back to the database, and <code class="function">writefam</code> writes a family record back to the database, allowing the
report to make permanent changes to the database.
</p><p>
The node functions only change data in memory; there is no effect on the database until and unless
<code class="function">writeindi</code> or <code class="function">writefam</code> are called.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927679168"></a>
Record Linking Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">BOOL <strong class="fsfunc">reference</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
determine if string is a cross reference
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">NODE <strong class="fsfunc">dereference</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
reference cross reference or key to node tree
</p></dd></dl></div><p>
These functions allow you to recognize values that are cross references and to read the records they refer
to. <code class="function">Reference</code> returns <span class="returnvalue">true</span> if its string argument is a cross reference value, that is, the internal key of
one of the records in the database. <code class="function">Dereference</code> returns the node tree of the record referred to by its cross-reference string argument.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927669680"></a>
Miscellaneous Functions
</h2></div></div></div><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">lock</strong>(</code></td><td><var class="pdparam">RECORD|NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">RECORD|NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
lock a record (or record containing specified node) in memory
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">unlock</strong>(</code></td><td><var class="pdparam">RECORD|NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">RECORD|NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
unlock a record (or record containing specified node) from memory
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">database</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
return name of current database
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">program</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
return name of current program
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">version</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
return version of <span class="application">LifeLines</span> program
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">system</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
execute string as a UNIX shell command
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">heapused</strong>(</code></td><td><code>)</code>;</td><td> </td></tr></table><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
amount of heap used for windows
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">getproperty</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
extract system or user property.  Function available after v3.0.5.
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">setlocale</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set the locale
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">bytecode</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
encode a string in a codeset
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">convertcode</strong>(</code></td><td><var class="pdparam">STRING</var><var class="pdparam">STRING</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
convert string from one codeset to another
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">debug</strong>(</code></td><td><var class="pdparam">BOOLEAN</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">BOOLEAN</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
set interpreter debug mode
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">pvalue</strong>(</code></td><td><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
dump information about a pvalue
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">free</strong>(</code></td><td><var class="pdparam">ANY</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">ANY</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
free space associated with a variable
</p></dd></dl></div><p>

<code class="function">Lock</code> and <code class="function">unlock</code> are used to lock a
person or family into <acronym class="acronym">RAM</acronym> memory, and to unlock a person or family
from <acronym class="acronym">RAM</acronym> memory, respectively.

</p><p>
<code class="function">Database</code> returns the name of the current database, useful
in titling reports. <code class="function">program</code> returns the
name of the current report program. <code class="function">Version</code> returns the
version of the running <span class="application">LifeLines</span> program, eg, <code class="literal">3.1.1</code>.
</p><p>
<code class="function">System</code> executes its string argument as a
<acronym class="acronym">UNIX</acronym> (or <acronym class="acronym">MS-Windows</acronym> as appropriate) shell
command, by invoking the system shell. This will not occur if the user has
chosen to disallow report system calls (via the DenySystemCalls user option).
</p><p>
The <code class="function">heapused</code> function returns the amount of system heap
that is in use at the time.  This is implemented only on windows.
</p><p>
The <code class="function">getproperty</code> function extracts system or user
properties.  Properties are named group.subgroup.property,
group.property or even property.  The keys are available at the moment can 
be found in the ll-userguide under System and User Properties.
</p><p>
The <code class="function">setlocale</code> function sets the locale and returns
the previous setting of locale.
</p><p>
The <code class="function">bytecode</code> function converts the supplied string
with escape codes to the current codeset from the internal codeset or
from the codeset specified by the
optional second parameter if specified.  A escaped code is a dollar sign ($)
followed by 2 hex characters, e.g. $C1.
</p><p>
The <code class="function">convertcode</code> function converts a string to another
codeset.  In the two argument form, the second argument is the destination
codeset, and the source codeset is the internal codeset.  In the 3 argument
form, the second argument is the source codeset and the third argument is the
destination codeset.  (See the section of the LifeLines User Guide on codeset
conversions.)  For example, if your internal codeset is UTF-8, and the report 
codeset is UTF-8, the following code,
</p><pre class="programlisting">       "&lt;p&gt;\n"
       convertcode(str,"UTF-8//html")
</pre><p>
writes the first line of output as it is written, but will apply the html
sub-conversion to all the characters in the string str. The special
html codes, like the less than or greater than, will be escaped when printing
the second string, but not when printing the first string.
</p><p>
The <code class="function">debug</code> function turns on or off programming debugging.
When enabled gobs of information is printed as a 
<span class="application">LifeLines</span> program is run.  This can be useful
to figure out why a program is not behaving as expected.
</p><p>
The <code class="function">pvalue</code> function returns a string that represents
the contents of a variable in the interpreter.  This is present for debug
purposes.
</p><p>
The function <code class="function">free</code> deallocates space associated with the
variable provided as argument 1. Care must be taken when free is used in a
function on a variable which is a parameter to the function.  free will not
effect the variable in the calling program.
</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927606176"></a>
Deprecated Functions
</h2></div></div></div><p>
The <code class="function">baptism</code> finds christening (CHR) events.  The types of
events desired to be found, depend on the nature of the report being written.
It is recommended that custom access routines be used instead of 
<code class="function">baptism</code>.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">EVENT <strong class="fsfunc">baptism</strong>(</code></td><td><var class="pdparam">INDI</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
first baptism event of
</p><p>
If you want a routine that returns the first event for an individual that is a
baptism, LDS baptism, Christening or Adult Christening, the following routine
can be used.

    </p><pre class="synopsis">func get_baptism(indi) {
    fornodes(indi,node) {
        if (index(" BAPM BAPL CHR CHRA ",upper(tag(node)),1)) {
            return(node)
        }
    }
    return(0)
}</pre><p>
If you want to search for additional events or fewer events you can modify the
string in the index call accordingly.  Likewise, if you want to prioritize
the results, finding a christening event if one exists, else finding
a baptism event if one exists, then finding an LDS baptism event, and finally
a christening event, the following function is suggested.

    </p><pre class="synopsis">/* get_baptism(indi) returns a baptism event if found
   events CHR, BAPM, BAPL, and CHRA are considered, in that order
*/
func get_baptism(indi, prefs)
{
    set(chr, 0)
    set(bapm, 0)
    set(bapl, 0)
    set(chra, 0)
    fornodes(indi,node)
    {
	if (and(eq(upper(tag(node)), "CHR"), not(chr)) { set(chr, node) }
	if (and(eq(upper(tag(node)), "BAPM"), not(bapm)) { set(bapm, node) }
	if (and(eq(upper(tag(node)), "BAPL"), not(bapl)) { set(bapl, node) }
	if (and(eq(upper(tag(node)), "CHRA"), not(chra)) { set(chra, node) }
    }
    if (chr) { return(chr) }
    if (bapm) { return(bapm) }
    if (bapl) { return(bapl) }
    return(chra)
}</pre><p>

</p></dd></dl></div><p>
The functionality of the following three functions,
<code class="function">getindimsg</code>,
<code class="function">getintmsg</code> and
<code class="function">getstrmsg</code>
is now available using the optional parameter of
<code class="function">getindi</code>,
<code class="function">getint</code> and
<code class="function">getstr</code>.
These functions should no longer be used as they will be removed from a future
version of <span class="application">Lifelines</span>.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getindimsg</strong>(</code></td><td><var class="pdparam">INDI_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INDI_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
identify person through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getintmsg</strong>(</code></td><td><var class="pdparam">INT_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">INT_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
get integer through user interface
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">getstrmsg</strong>(</code></td><td><var class="pdparam">STRING_V</var><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING_V</var>,
<var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
get string through user interface
</p></dd></dl></div><p>
Three functions are available to generate <acronym class="acronym">GEDCOM</acronym>
format output to the report output file of all persons in the argument
person set.  Two of these functions do not in most cases generate consistent
and usable output.  This can be done with a program, but it is 
suggested that these routines are probably not what you really wanted.
<code class="function">Gengedcom</code> 
output contains a person record for each person in the set,
and all the family records that
link at least two of the persons in the set together.
This function is provided for backward compatibility. Source, Event and
Other(X) record pointers are output unmodified, but none of their records
are output - this yields an inconsistent output.
<code class="function">Gengedcomweak</code> 
output does not contain Source, Event or Other(X) record pointers 
or their records.
The function <code class="function">Gengedcomstrong</code> includes 
the Source, Event and Other(X) record pointers and all top-level nodes
referenced by them and is suggested instead of these two functions.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">gengedcom</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
generate GEDCOM file from person set
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">gengedcomweak</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
generate GEDCOM file from person set
</p></dd></dl></div><p>
By the release of version 3.0.6, all string values are local copies, and the <code class="function">save</code> and
<code class="function">strsave</code> functions should be entirely unnecessary.
<code class="function">Save</code> is present only for compatibility reasons. Previously it duplicated its argument (to prevent strings
from becoming stale; this is not currently necessary (and this function no longer does anything).
 <code class="function">Strsave</code> is the same function as <code class="function">save</code>.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">save</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
save and return copy of string
</p></dd><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">STRING <strong class="fsfunc">strsave</strong>(</code></td><td><var class="pdparam">STRING</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">STRING</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
same as save function
</p></dd></dl></div><p>
Use <code class="function">detachnode</code> instead of
<code class="function">deletenode</code>.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">VOID <strong class="fsfunc">deletenode</strong>(</code></td><td><var class="pdparam">NODE</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">NODE</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
delete a node from a GEDCOM tree
</p></dd></dl></div><p>
In releases after version 3.0.39, the 
<code class="function">length</code> function accepts an argument of type 
<span class="type">list</span>, <span class="type">set</span> or <span class="type">table</span>.  The
<code class="function">lengthset</code> function is no longer needed.
</p><div class="glosslist"><dl><dt><span class="glossterm"><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">INT <strong class="fsfunc">lengthset</strong>(</code></td><td><var class="pdparam">SET</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code><var class="pdparam">SET</var></code>;</div><div class="funcprototype-spacer"> </div></div></span></dt><dd class="glossdef"><p>
size of a set
</p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm140054927548880"></a>
Debugging Reports
</h2></div></div></div><p>

The lifelines program includes in its report engine a small
debugger feature. If the program parses successfully, but
an error is found during execution, you will be prompted
to either enter the debug or to quit.

</p><pre class="screen">
Report file: /home/user/lifelines/reports/test.ll
Runtime Error at line 50: set: the arg #1 must be a variable. (arg: tag(node))
Enter d for debugger, q to quit
</pre><p>

</p><p>
If you press d to enter the debugger, you will be presented
with the debugger main menu, from which you can view
the current (local) variables, or the global variables.

</p><pre class="screen">
Report debugger (1/5)
  &gt;1: Display locals (4 vars) [proc: checkrec]
   2: Display global (1 var)
   3: Call stack has 3 higher levels.  Go up one level(proc: rectest)
   4: Call stack has 0 lower levels.
   5: Quit debugger
</pre><p>

Examining these values might help you determine what went
wrong with the program. Select the locals or the globals
to view the values of those variables. If any non-empty
lists, tables, or sets are displayed, they may be 
selected, to view their contents.
</p></div></div></div></body></html>